### CHAPTER 2: Initial Configuration and Recovery ###
--ID: chapter_2
--SOURCE: arista.txt

This chapter describes initial configuration and recovery tasks. Subsequent chapters provide details 
about features introduced in this chapter. 

This chapter contains these sections:


Section 2.1: Initial Switch Access
Section 2.2: Connection Management
Section 2.4: Recovery Procedures
Section 2.5: Session Management Commands

### SUBSECTION 2.1: Initial Switch Access ###
--ID: subsection_2_1
--PARENT: chapter_2

Arista Network switches provide two initial configuration methods:

• Zero Touch Provisioning configures the switch without user interaction (Section 2.1.1).

• Manual provisioning configures the switch through commands entered by a user through the CLI 
(Section 2.1.2).

### SUBSUBSECTION 2.1.1: Zero Touch Provisioning ###
--ID: subsubsection_2_1_1
--PARENT: subsection_2_1

Zero Touch Provisioning (ZTP) configures a switch without user intervention by downloading a startup 
configuration file (startup-config) or a boot script from a location specified by a DHCP server. Section 
6.4.4 describes network tasks required to set up ZTP.

The switch enters ZTP mode when it boots if flash memory does not contain startup-config. It remains 
in ZTP mode until a user cancels ZTP mode, or until the switch retrieves a startup-config or a boot script. 
After downloading a file through ZTP, the switch reboots again, using the retrieved file.

Security Considerations

The ZTP process cannot distinguish an approved DHCP server from a rogue DHCP server. For secure 
provisioning, you must ensure that only approved DHCP servers are able to communicate with the 
switch until after the ZTP process is complete. Arista also recommends validating the EOS image on 
your ZTP server by confirming that its MD5 checksum matches the MD5 checksum that can be found 
on the EOS download page of the Arista website. On a UNIX server, the md5sum command calculates 
this checksum:

[[CODE:code_subsubsection_2_1_1_0]]

<!-- CODE:START --> 
% md5sum EOS.swi
3bac45b96bc820eb1d10c9ee33108a25  EOS.swi
<!-- CODE:END --> 

To provision the switch through Zero Touch Provisioning:

Step 1 Mount the switch in its permanent location.

Step 2 Connect at least one management or Ethernet port to a network that can access the DHCP 

server and configuration file.

Step 3 Provide power to the switch.

ZTP provisioning progress can be monitored through the console port. Section 2.1.2.1 provides 
information for setting up the console port. Section 2.1.2.2 provides information for monitoring ZTP 
progress and cancelling ZTP mode.

### SUBSUBSECTION 2.1.2: Manual Provisioning ###
--ID: subsubsection_2_1_2
--PARENT: subsection_2_1

Initial manual switch provisioning requires the cancellation of ZTP mode, the assignment of an IP 
address to a network port, and the establishment of an IP route to a gateway. Initial provision is 
performed through the serial console and Ethernet management ports.


The console port is used for serial access to the switch. These conditions may require serial access:

— management ports are not assigned IP addresses
— the network is inoperable
— the enable password is not available


The Ethernet management ports are used for out of band network management tasks. Before using 
a management port for the first time, an IP address must be assigned to that port.

### SUBSUBSUBSECTION 2.1.2.1: Console Port ###
--ID: subsubsubsection_2_1_2_1
--PARENT: subsubsection_2_1_2

The console port is a serial port located on the front of the switch. Figure 2-1 shows the console port on 
the DCS-7050T-64 switch. Use a serial or RS-232 cable to connect to the console port. The accessory kit 
also includes an RJ-45 to DB-9 adapter cable for connecting the switch.

Figure 2-1

Switch Ports

Port Settings

Use these settings when connecting to the console port:

9600 baud
no flow control
1 stop bit
no parity bits
8 data bits

Admin Username

The initial configuration provides one username, admin, that is not assigned a password. When using 
the admin username without a password, you can only log into the switch through the console port. 
After a password is assigned to the admin username, it can log into the switch through any port.

The username command assigns a password to the specified username.

Example

This command assigns the password pxq123 to the admin username:

switch(config)#username admin secret pxq123
switch(config)#

New and altered passwords that are not saved to the startup configuration file, as described in Section 
3.6.4: Saving the Running Configuration Settings, are lost when the switch is rebooted.

### SUBSUBSUBSECTION 2.1.2.2: Cancelling Zero Touch Provisioning ###
--ID: subsubsubsection_2_1_2_2
--PARENT: subsubsection_2_1_2

Zero Touch Provisioning (ZTP) installs a startup-config file from a network location if flash memory does 
not contain a startup-config when the switch reboots. Cancelling ZTP is required if the switch cannot 
download a startup-config or boot script file.

When the switch boots without a startup-config file, it displays the following message through the 
console port:

[[CODE:code_subsubsubsection_2_1_2_2_0]]

<!-- CODE:START -->
No startup-config was found.

The device is in Zero Touch Provisioning mode and is attempting to
download the startup-config from a remote system. The device will not
be fully functional until either a valid startup-config is downloaded
from a remote system or Zero Touch Provisioning is cancelled. To cancel
Zero Touch Provisioning, login as admin and type 'zerotouch cancel'
at the CLI.

localhost login:
<!-- CODE:END -->

To cancel ZTP mode, log into the switch with the admin password, then enter the zerotouch cancel 
command. The switch immediately boots without installing a startup-config file. 


[[CODE:code_subsubsubsection_2_1_2_2_1]]

<!-- CODE:START -->
localhost login: admin
admin
localhost>Apr 15 21:28:21 localhost ZeroTouch: %ZTP-5-DHCP_QUERY: Sending DHCP request 
on  [ Ethernet10, Ethernet13, Ethernet14, Ethernet17, Ethernet18, Ethernet21, 
E-thernet22, Ethernet23, Ethernet24, Ethernet7, Ethernet8, Ethernet9, Management1, 
Management2 ]
Apr 15 21:28:51 localhost ZeroTouch: %ZTP-5-DHCP_QUERY_FAIL: Failed to get a valid DHCP 
response
Apr 15 21:28:51 localhost ZeroTouch: %ZTP-5-RETRY: Retrying Zero Touch Provisioning 
from the beginning (attempt 1)
Apr 15 21:29:22 localhost ZeroTouch: %ZTP-5-DHCP_QUERY: Sending DHCP request on  [ 
Ethernet10, Ethernet13, Ethernet14, Ethernet17, Ethernet18, Ethernet21, Ethernet22, 
Ethernet23, Ethernet24, Ethernet7, Ethernet8, Ethernet9, Management1, Management2 ]

localhost>zerotouch cancel
zerotouch cancel
localhost>Apr 15 21:29:39 localhost ZeroTouch: %ZTP-5-CANCEL: Cancelling Zero Touch 
Provisioning
Apr 15 21:29:39 localhost ZeroTouch: %ZTP-5-RELOAD: Rebooting the system
Broadcast messagStopping sshd: [  OK  ]
watchdog is not running
SysRq : Remount R/O
Restarting system
ø

Aboot 1.9.0-52504.EOS2.0
Press Control-C now to enter Aboot shell

<!-- CODE:END -->

Section 6.4.1 lists the remaining messages that the switch displays before providing a logon prompt. To 
avoid entering ZTP mode on subsequent reboots, create a startup-config file as described by step 8 of 
Section 2.1.2.3.

### SUBSUBSUBSECTION 2.1.2.3: Ethernet Management Port ###
--ID: subsubsubsection_2_1_2_3
--PARENT: subsubsection_2_1_2

Arista switches provide one or more Ethernet management ports for configuring the switch and 
managing the network out of band. Figure 2-1 shows the location of the Ethernet management ports on 
a DCS-7050T-64 switch. Only one port is required to manage the switch.

You can access the Ethernet management port(s) remotely over a common network or locally through 
a directly connected PC. Before you can access the switch through a remote connection, an IP address 
and a static route to the default gateway are required. On a modular switch with dual supervisors, a 
virtual IP address can also be configured to access the management port on whichever supervisor is 
active.

Assigning a Virtual IP Address to Access the Active Ethernet Management Port

On modular switches with dual supervisors, this procedure assigns a virtual IP address which will 
connect to the Ethernet management port of the active supervisor. (To assign a physical IP address to an 
individual Ethernet management port, see Assigning an IP Address to a Specific Ethernet Management 
Port below.)

Step 1 Connect a PC or terminal server to the console port.

Use the settings listed in Section 2.1.2.1 under Port Settings.

Step 2 Type admin at the login prompt to log into the switch. Initial login through the console port 

does not require a password.


[[CODE:code_subsubsubsection_2_1_2_3_0]]

<!-- CODE:START -->
Arista EOS
switch login:admin
Last login: Fri Apr 9 14:22:18 on Console
<!-- CODE:END -->

switch>

Step 3 Type enable at the command prompt to enter Privileged EXEC mode. See Section 3.5.1: Mode 

Types for information about Privileged EXEC mode.

[[CODE:code_subsubsubsection_2_1_2_3_1]]

<!-- CODE:START -->
switch>enable
switch#
<!-- CODE:END -->

Step 4 Type configure terminal (or config) to enter global configuration mode. See Section 3.5.1: Mode 


Types for information about global configuration mode.

[[CODE:code_subsubsubsection_2_1_2_3_2]]

<!-- CODE:START -->
switch#configure terminal
switch(config)#
<!-- CODE:END -->

Step 5 Type interface management 0 to enter interface configuration mode for the virtual interface 



which accesses management port 1 on the currently active supervisor.

[[CODE:code_subsubsubsection_2_1_2_3_3]]

<!-- CODE:START -->

switch(config)#interface management 0
switch(config-if-Ma0)#
<!-- CODE:END -->

Step 6 Type ip address, followed by the desired address, to assign a virtual IP address for access to the 

active management port.

This command assigns IP address 10.0.2.5 to management port 0.

[[CODE:code_subsubsubsection_2_1_2_3_4]]
<!-- CODE:START -->
switch(config-if-Ma0)#ip address 10.0.2.5/24
<!-- CODE:END -->

Step 7 Type end at both the interface configuration and global configuration prompts to return to 

Privileged EXEC mode.

[[CODE:code_subsubsubsection_2_1_2_3_5]]

<!-- CODE:START -->
switch(config-if-Ma0)#end
switch(config)#end
switch#
<!-- CODE:END -->

Step 8 Type write (or copy running-config startup-config) to save the new configuration to the 
startup-config file. See Section 3.6.4: Saving the Running Configuration Settings.

[[CODE:code_subsubsubsection_2_1_2_3_6]]
<!-- CODE:START -->
switch# write
switch#
<!-- CODE:END -->

Assigning an IP Address to a Specific Ethernet Management Port

This procedure assigns an IP address to a specific Ethernet management port:

Step 1 Connect a PC or terminal server to the console port.

Use the settings listed in Section 2.1.2.1 under Port Settings.

Step 2 Type admin at the login prompt to log into the switch. The initial login does not require a 

password.

[[CODE:code_subsubsubsection_2_1_2_3_7]]
<!-- CODE:START -->
Arista EOS
switch login:admin
Last login: Fri Apr 9 14:22:18 on Console

switch>
<!-- CODE:END -->

Step 3 Type enable at the command prompt to enter Privileged EXEC mode. See Section 3.5.1: Mode
Types for information about Privileged EXEC mode.

[[CODE:code_subsubsubsection_2_1_2_3_8]]
<!-- CODE:START -->
switch>enable
switch#
<!-- CODE:END -->

Step 4 Type configure terminal (or config) to enter global configuration mode. See Section 3.5.1: Mode 

Types for information about global configuration mode.
[[CODE:code_subsubsubsection_2_1_2_3_9]]

<!-- CODE:START -->
switch#configure terminal
<!-- CODE:END -->

Step 5 Type interface management 1 to enter interface configuration mode.

Any available management port can be used in place of management port 1.

[[CODE:code_subsubsubsection_2_1_2_3_10]]
<!-- CODE:START -->
switch(config)#interface management 1
switch(config-if-Ma1)#
<!-- CODE:END -->

Step 6 Type ip address, followed by the desired address, to assign an IP address to the port.

This command assigns the IP address 10.0.2.8 to management 1 port.

[[CODE:code_subsubsubsection_2_1_2_3_11]]
<!-- CODE:START -->
switch(config-if-Ma1)#ip address 10.0.2.8/24
<!-- CODE:END -->

Step 7 Type end at both the interface configuration and global configuration prompts to return to 

Privileged EXEC mode.
[[CODE:code_subsubsubsection_2_1_2_3_12]]

<!-- CODE:START -->
switch(config-if-Ma1)#end
switch(config)#end
<!-- CODE:END -->

Step 8 Type write (or copy running-config startup-config) to save the new configuration to the 
startup-config file. See Section 3.6.4: Saving the Running Configuration Settings.

[[CODE:code_subsubsubsection_2_1_2_3_13]]

<!-- CODE:START -->
switch# write
<!-- CODE:END -->

Configuring a Default Route to the Gateway

This procedure configures a default route to a gateway located at 10.0.2.1.

Step 1 Enter global configuration mode.


[[CODE:code_subsubsubsection_2_1_2_3_14]]
<!-- CODE:START -->
switch>enable
switch#configure terminal
<!-- CODE:END -->

Step 2 Create a static route to the gateway with the IP route command.

[[CODE:code_subsubsubsection_2_1_2_3_15]]
<!-- CODE:START -->
switch(config)#ip route 0.0.0.0/0 10.0.2.1
<!-- CODE:END -->

Step 3 Save the new configuration.
[[CODE:code_subsubsubsection_2_1_2_3_16]]

<!-- CODE:START -->
switch#write
switch#
<!-- CODE:END -->

### SUBSECTION 2.2: Connection Management ###
--ID: subsection_2_2
--PARENT: chapter_2

The switch supports three connection methods: 

console
SSH
Telnet

The switch always enables console and SSH. Telnet is disabled by default.

Management commands place the switch in a configuration mode for changing session connection 
parameters.

Examples

The management console command places the switch in console management mode:

[[CODE:code_subsection_2_2_0]]
<!-- CODE:START -->
switch(config)#management console
switch(config-mgmt-console)#
<!-- CODE:END -->

The management ssh command places the switch in SSH management mode:

[[CODE:code_subsection_2_2_1]]
<!-- CODE:START -->
switch(config)#management ssh
switch(config-mgmt-ssh)#
<!-- CODE:END -->

The management telnet command places the switch in Telnet management mode:
[[CODE:code_subsection_2_2_2]]

<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#
<!-- CODE:END -->

The exit command returns the switch to global configuration mode.
[[CODE:code_subsection_2_2_3]]

<!-- CODE:START -->
switch(config-mgmt-ssh)#exit
switch(config)#
<!-- CODE:END -->

The idle-timeout commands shown below configure the idle timeout period for the connection type 
being configured. The idle timeout is the interval that the connection waits after a user’s most recent 
command before shutting down the connection. Automatic connection timeout is disabled by setting 
the idle-timeout to zero, which is the default setting.

Examples

This idle-timeout (SSH Management) command configures an ssh idle-timeout period of three 
hours.

[[CODE:code_subsection_2_2_4]]
<!-- CODE:START -->
switch(config)#management ssh
switch(config-mgmt-ssh)#idle-timeout 180
<!-- CODE:END -->

This idle-timeout (Telnet Management) command disables automatic connection timeout for telnet 
connections.

[[CODE:code_subsection_2_2_5]]
<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#idle-timeout 0
<!-- CODE:END -->

The shutdown (Telnet Management) command enables and disables Telnet connections.

Examples

These commands enable Telnet.

[[CODE:code_subsection_2_2_6]]
<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#no shutdown
<!-- CODE:END -->


These commands disable Telnet.

[[CODE:code_subsection_2_2_7]]
<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#shutdown
<!-- CODE:END -->






### SUBSECTION 2.3: Configure Session ###
--ID: subsection_2_3
--PARENT: chapter_2

The command configure session allows users to issue configuration sessions as CLIs that do not take effect 
immediately. Each configure session is saved with a unique name. A session is entered, modified and exited 
at any time by entering configure session <name of session> (e.g. configure session 
routing_changes) without impacting the currently running system configuration.

A session is defined as a collection of configuration changes that are grouped together. 

When a session is committed, the configuration that was modified during the session is copied into the running 
configuration. A session can be aborted or removed, thereby removing the session completely and freeing up 
memory used by the session. The user must explicitly request that the changes in a deferred session be applied to 
the configuration of the router, entering a commit command and exiting the mode. Alternately, the user may 
abandon the changes, entering an abort command.

Configuration sessions are used to make sets of changes, after verifying there are no CLI errors. Configuration 
sessions allow the administrator to pre-provision a group of CLIs in a named session, thereby committing 
execution of each configuration session at specified times.

This chapter contains the following sections:


Section 2.3.1: Configuration Session
Section 2.3.2: Configure Replace

### SUBSUBSECTION 2.3.1: Configuration Session ###
--ID: subsubsection_2_3_1
--PARENT: subsection_2_3

The command configure session allows users to make a series of configuration changes in a temporary 
location and commit them to running-config at once by issuing the commit command.

configure session <name of session> and running-config — The user enters a session (versus 
configure terminal in the case where configuration sessions are not used). If a session name is not 
specified, a system named session is created. A snapshot of the current running-config is copied into the 
session’s data structure as the basis of further configuration changes.

CLI configuration commands — User can run any configuration commands inside the session.

rollback clean-config — User can run rollback command to revert the session’s configuration to the 
default configuration (or clean configuration).

show session-config — User can run show session-config to show the session’s configuration, 
which will be the future running-config once committed.

commit — User issues commit to commit the changes, which will replace the current running-config.

abort — to abort the session and throw away all changes.

exit — User can exit from the session, and later return to the same session by running configure 
session <name> again.

For named session — More than one CLI instance can enter the same session and make changes to the session 
configuration. Once the session is committed in any of the CLIs, no other CLI can commit or make any other 
changes in that session.

### SUBSUBSECTION 2.3.2: Configure Replace ###
--ID: subsubsection_2_3_2
--PARENT: subsection_2_3

The command configure replace <URL> replaces the current running-config with the configuration
saved in <URL>.

[[CODE:code_subsubsection_2_3_2_0]]
<!-- CODE:START -->
configure replace <URL> [ignore-errors]
<!-- CODE:END -->

By default, configure replace <URL> will replace running-config only if the configuration in <URL> 
loads without errors. The ignore-errors flag optionally forces the operation in spite of errors.

Note

The command copy <URL> running-config was typically used to apply a saved configuration file to the 
system, and append that configuration to the current running-config (in lieu of replacing it). However, it is 
recommended the user uses the CLI command configure replace <URL> to streamline the process of 
deterministically restoring the system back to a known good configuration.

The normal workflow internally uses a configuration session to perform the replace.

### SUBSUBSECTION 2.3.3: Configuration CLI ###
--ID: subsubsection_2_3_3
--PARENT: subsection_2_3

In the CLI, execute the following configuration steps to create a configuration session.

[[CODE:code_subsubsection_2_3_3_0]]

<!-- CODE:START -->
Step 1 configure session [<name of session>]
<!-- CODE:END -->

Create or enter a session. If a name is not specified, it is automatically generated. The user is put in the 
session configuration mode and the prompt will change to show the first six characters of the session 
name. Designating the name of a session is optional. When <name of session> is not specified, a 
unique name is assigned.

[[CODE:code_subsubsection_2_3_3_1]]

<!-- CODE:START -->
no configure session <name of session>
<!-- CODE:END -->

Delete the specified configuration session. Designating the name of a session is required.

Step 2 commit

Commit the changes made in the session. This command must be issued from within the session 
configuration mode.

[[CODE:code_subsubsection_2_3_3_2]]

<!-- CODE:START -->
abort
<!-- CODE:END -->

Abort the session, which is the same as deleting it. This command must be issued from within the session 
configuration mode.

Step 3 rollback clean-config

Revert configuration in the session to the clean, factory-default configuration. This command must be 
issued from within the session configuration mode.

Step 4 service configuration session max completed <num>

Set a limit on the maximum number of committed sessions that are saved.

Step 5 service configuration session max pending <num>

Set a limit on the maximum number of uncommitted sessions that can be outstanding.

### SUBSUBSECTION 2.3.4: Show Commands ###
--ID: subsubsection_2_3_4
--PARENT: subsection_2_3

### SUBSUBSUBSECTION 2.3.4.1: show configuration sessions [detail] ###
--ID: subsubsubsection_2_3_4_1
--PARENT: subsubsection_2_3_4

This command displays the following information about the sessions that exist in the system:

The name of each session and its state (completed, pending, aborted, etc.) are displayed.
If a user has currently entered the session, the user name and the associated terminal are also shown.

• With the detail flag, the process ID of the CLI process that is using the session is also displayed.

Note

An asterisk (*) indicates that the user running the show command is currently in the marked session.








Example

[[CODE:code_subsubsubsection_2_3_4_1_0]]

<!-- CODE:START -->
Arista(config-s-s2)#show configuration sessions detail
Maximum number of completed sessions: 1
Maximum number of pending sessions: 5
Name State         User         Terminal       PID  Description
---- ------------- ------------ -------------- ---- ----------------------------

s1 completed
<!-- CODE:END -->

* s2 pending       user123      vty870         7729

### SUBSUBSUBSECTION 2.3.4.2: show session-config [diff] ###
--ID: subsubsubsection_2_3_4_2
--PARENT: subsubsection_2_3_4

This command must be issued from within a session. It shows the following:


The session configuration, including the changes made in the session.
The diff flag shows the differences with the running-config, which helps highlight the changes made in 
the session.

Example 1

[[CODE:code_subsubsubsection_2_3_4_2_0]]

<!-- CODE:START -->
Arista(config-s-s2)#show session-config
! Command: show session-configuration named s2
ip dhcp smart-relay global
!
transceiver qsfp default-mode 4x10G
!
ip pim bsr-candidate Loopback0 224.0.0.0/4 priority 64 hashmask 30 interval 60
!
hostname Arista
ip host one 1.1.1.1
!
no aaa root
!
spanning-tree mode mstp
!
interface Ethernet1
!
interface Ethernet2
!
interface Ethernet3
!
interface Ethernet4
!
interface Ethernet5
!
interface Ethernet6
!
no ip routing
!
!
end
<!-- CODE:END -->


Example 2

[[CODE:code_subsubsubsection_2_3_4_2_1]]

<!-- CODE:START -->
Arista(config-s-s2)#show session-config diff
--- system:/running-config
+++ session:/s2
@@ -5,6 +5,7 @@
ip pim bsr-candidate Loopback0 224.0.0.0/4 priority 64 hashmask 30 interval 60
!
hostname Arista
+ip host one 1.1.1.1
!
no aaa root
!
<!-- CODE:END -->

### SUBSUBSUBSECTION 2.3.4.3: show session-config name <name of session> ###
--ID: subsubsubsection_2_3_4_3
--PARENT: subsubsection_2_3_4

Show the session configuration of the named session.

Example

[[CODE:code_subsubsubsection_2_3_4_3_0]]

<!-- CODE:START -->
Arista#show session-config named s1
! Command: show session-configuration named s1
ip dhcp smart-relay global
!
transceiver qsfp default-mode 4x10G
!
ip pim bsr-candidate Loopback0 224.0.0.0/4 priority 64 hashmask 30 interval 60
!
hostname Arista
!
no aaa root
!
spanning-tree mode mstp
!
interface Ethernet1
!
interface Ethernet2
!
interface Ethernet3
!
interface Ethernet4
!
interface Ethernet5
!
interface Ethernet6
!
no ip routing
!
!
end
<!-- CODE:END -->


### SUBSECTION 2.4: Recovery Procedures ###
--ID: subsection_2_4
--PARENT: chapter_2

These sections describe switch recovery procedures:


Section 2.4.1: Removing the Enable Password from the Startup Configuration
Section 2.4.2: Reverting the Switch to the Factory Default Startup Configuration
Section 2.4.3: Restoring the Factory Default EOS Image and Startup Configuration
Section 2.4.4: Restoring the Configuration and Image from a USB Flash Drive

The first three procedures require Aboot Shell access through the console port. If the console port is not 
accessible, use the last procedure in the list to replace the configuration file through the USB Flash Drive.

Chapter 6, starting on page 353 describes the switch booting process and includes descriptions of the 
Aboot shell, Aboot boot loader, and required configuration files.

### SUBSUBSECTION 2.4.1: Removing the Enable Password from the Startup Configuration ###
--ID: subsubsection_2_4_1
--PARENT: subsection_2_4

The enable password controls access to Privileged EXEC mode. To prevent unauthorized disclosure, the 
switch stores the enable password as an encrypted string that it generates from the clear-text password. 
When the switch authentication mode is local and an enable password is configured, the CLI prompts 
the user to enter the clear-text password after the user types enable at the EXEC prompt. 

The startup-config file stores the encrypted enable password to ensure that the switch loads it when 
rebooting. If the text version of the enable password is lost or forgotten, access to enable mode is 
restored by removing the encrypted enable password from the startup configuration file.

This procedure restores access to enable mode without changing any other configuration settings.

Step 1 Access the Aboot shell: 

Step a Power cycle the switch by successively removing and restoring access to its power source.

Step b Type Ctrl-C when prompted, early in the boot process.

Step c Enter the Aboot password, if prompted.

If the Aboot password is unknown, refer to Section 2.4.3: Restoring the Factory Default EOS 
Image and Startup Configuration for instructions on reverting all flash directory contents 
to the factory default, including the startup configuration and EOS image.

Step 2 Change the active directory to /mnt/flash directory.

[[CODE:code_subsubsection_2_4_1_0]]

<!-- CODE:START -->
Aboot#cd /mnt/flash
<!-- CODE:END -->

Step 3 Open the startup-config file in vi.

[[CODE:code_subsubsection_2_4_1_1]]

<!-- CODE:START -->
Aboot#vi startup-config
<!-- CODE:END -->

Step 4 Remove the enable password line.

This is an example of an enable password line:

[[CODE:code_subsubsection_2_4_1_2]]

<!-- CODE:START -->
enable secret 5 $1$dBXo2KpF$Pd4XYLpI0ap1ZaU7glG1w/
<!-- CODE:END -->

Step 5 Save the changes and exit vi.

Step 6 Exit Aboot. This boots the switch.

[[CODE:code_subsubsection_2_4_1_3]]

<!-- CODE:START -->
Aboot#exit
<!-- CODE:END -->

Refer to Section 4.2.1.4: Enable Command Authorization for information on the enable password.

### SUBSUBSECTION 2.4.2: Reverting the Switch to the Factory Default Startup Configuration ###
--ID: subsubsection_2_4_2
--PARENT: subsection_2_4

The startup-config file contains configuration parameters that the switch uses during a boot. Parameters 
that do not appear in startup-config are set to their factory defaults when the switch reloads. The process 
requires the Aboot password if Aboot is password protected.

This procedure reverts EOS configuration settings to the default state through bypassing the 
startup-config file during a switch boot.

Step 1 Access the Aboot shell through the console port:

Step a Type reload at the Privileged EXEC prompt.

Step b Type Ctrl-C when prompted, early in the boot process.

Step c Enter the Aboot password, if prompted.

If the Aboot password is unknown, refer to Section 2.4.3: Restoring the Factory Default EOS 
Image and Startup Configuration for instructions on reverting all flash directory contents 
to the factory default, including startup-config and EOS image.

Step 2 Change the active directory to /mnt/flash directory.


[[CODE:code_subsubsection_2_4_2_0]]

<!-- CODE:START -->
Aboot#cd /mnt/flash
<!-- CODE:END -->

Step 3 Rename the startup configuration file.


[[CODE:code_subsubsection_2_4_2_1]]

<!-- CODE:START -->
Aboot#mv startup-config startup-config.old
<!-- CODE:END -->

Step 4 Exit Aboot. This boots the switch


[[CODE:code_subsubsection_2_4_2_2]]

<!-- CODE:START -->
Aboot#exit
<!-- CODE:END -->

Step 5 Cancel Zero Touch Provisioning (ZTP). Refer to Section 2.1.2.2: Cancelling Zero Touch 

Provisioning for instructions.

If ZTP is not cancelled, the switch either:


boots, using the startup-config file or boot script that it obtains from the network, or
remains in ZTP mode if the switch is unable to download a startup-config file or boot script.

Step 6 Configure the admin and enable passwords.

Refer to Section 4.2.1: Local Security File for information about creating usernames and 
passwords.


[[CODE:code_subsubsection_2_4_2_3]]

<!-- CODE:START -->
switch>enable
switch#configure terminal
switch(config)#enable secret xyz1
switch(config)#username admin secret abc41
<!-- CODE:END -->

Step 7 Save the new running-config to the startup configuration file.

[[CODE:code_subsubsection_2_4_2_4]]

<!-- CODE:START -->
switch#write
<!-- CODE:END -->

Step 8 (Optional) Delete the old startup configuration file.


[[CODE:code_subsubsection_2_4_2_5]]

<!-- CODE:START -->
switch#delete startup-config.old
<!-- CODE:END -->

After ZTP is cancelled, the switch reboots, using the factory default settings. To avoid entering 
ZTP mode on subsequent reboots, create a startup-config file before the next switch reboot.

### SUBSUBSECTION 2.4.3: Restoring the Factory Default EOS Image and Startup Configuration ###
--ID: subsubsection_2_4_3
--PARENT: subsection_2_4

A fullrecover command removes all internal flash contents (including configuration files, EOS image 
files, and user files), then restores the factory default EOS image and startup-config. A subsequent 
installation of the current EOS image may be required if the default image is outdated. This process 
requires Aboot shell access through the console port.

This procedure restores the factory default EOS image and startup configuration.

Step 1 Access the Aboot shell through the console port:

Step a Type reload at the Privileged EXEC prompt.

Step b Type Ctrl-C when prompted, early in the boot process.

Step c Enter the Aboot password, if prompted.

If the Aboot password is not known, enter an empty password three times, after which the 
CLI displays:


[[CODE:code_subsubsection_2_4_3_0]]

<!-- CODE:START -->
Type "fullrecover" and press Enter to revert /mnt/flash to factory default 
state, or just press Enter to reboot:
<!-- CODE:END -->

Type fullrecover and go to step 4.

Step 2 Type fullrecover at the Aboot prompt.


[[CODE:code_subsubsection_2_4_3_1]]

<!-- CODE:START -->
Aboot#fullrecover
<!-- CODE:END -->

Aboot displays this warning: 


[[CODE:code_subsubsection_2_4_3_2]]

<!-- CODE:START -->
All data on /mnt/flash will be erased; type "yes" and press Enter to proceed, 
or just press Enter to cancel:
<!-- CODE:END -->

Step 3 Type yes and press Enter.

The switch performs these actions:

erases the contents of /mnt/flash

• writes new boot-config, startup-config, and EOS.swi files to /mnt/flash

returns to the Aboot prompt

Step 4 Exit Aboot. This boots the switch.


[[CODE:code_subsubsection_2_4_3_3]]

<!-- CODE:START -->
Aboot#exit
<!-- CODE:END -->

The serial console settings are restored to their default values (9600/N/8/1/N). 

Step 5 Reconfigure the console port if non-default settings are required.

Step 6 Cancel Zero Touch Provisioning (ZTP). Refer to Section 2.1.2.2: Cancelling Zero Touch 

Provisioning for instructions.

If ZTP is not cancelled, the switch either:


boots, using the startup-config file or boot script that it obtains from the network, or
remains in ZTP mode if the switch is unable to download a startup-config file or boot script.

After ZTP is cancelled, the switch reboots, using the factory default settings. To avoid entering 
ZTP mode on subsequent reboots, create a startup-config file before the next switch reboot.

### SUBSUBSECTION 2.4.4: Restoring the Configuration and Image from a USB Flash Drive ###
--ID: subsubsection_2_4_4
--PARENT: subsection_2_4

The USB flash drive port can be used to restore an original configuration when you cannot establish a 
connection to the console port. This process removes the contents of the internal flash drive, restores 
the factory default configuration, and installs a new EOS image from the USB flash drive.

This procedure restores the factory default configuration and installs an EOS image stored on a USB 
flash drive.

Step 1 Prepare the USB flash drive:

Step a Verify the drive is formatted with MS-DOS or FAT file system.

Most USB drives are pre-formatted with a compatible file system.

Step b Create a text file named fullrecover on the USB flash drive.

The filename does not have an extension. The file may be empty.

Step c Create a text file named boot-config.

The last modified timestamp of the boot-config file on the USB flash must differ from the 
timestamp of the boot-config file on the switch.

Step d Enter this line in the new boot-config file on the USB flash:

SWI=flash:EOS.swi

Step e Copy an EOS image file to the flash drive. Rename it EOS.swi if it has a different file name.

For best results, the flash drive should contain only these three files, because the procedure 
copies all files and directories on the USB flash drive to the switch.


fullrecover
boot-config
EOS.swi

Step 2 Insert the USB flash drive into the USB flash port on the switch, as shown in Figure 2-1.

Step 3 Connect a terminal to the console port and configure it with the default terminal settings 

(9600/N/8/1) to monitor progress messages on the console.

Step 4 Power up or reload the switch.

The switch erases internal flash contents and copies the files from the USB flash drive to internal 
flash. The switch then boots automatically.

Step 5 Cancel Zero Touch Provisioning (ZTP). Refer to Section 2.1.2.2: Cancelling Zero Touch 

Provisioning for instructions.

If ZTP is not cancelled, the switch either:


boots, using the startup-config file or boot script that it obtains from the network, or
remains in ZTP mode if the switch is unable to download a startup-config file or boot script.

After ZTP is cancelled, the switch reboots using the factory default settings. To avoid entering 
ZTP mode on subsequent reboots, create a startup-config file before the next switch reboot.

### SUBSECTION 2.5: Session Management Commands ###
--ID: subsection_2_5
--PARENT: chapter_2

domain (XMPP Management)

The domain command configures the switch’s XMPP domain name. Only messages using a domain 
matching the locally configured one are accepted by the XMPP client. The switch's domain name is used 
if none is specified.

Management over XMPP is disabled by default. To enable it, you must provide the location of the server 
along with the domain, username and password for the switch.

Arista recommends configuring the XMPP domain before the username, because it will provide 
shortcuts for the switch-group and username so they can be configured without the domain attached 
to it (eg. USERNAME instead of USERNAME@DOMAIN).

The no domain and default domain commands delete the domain name by removing the domain 
command from running-config.

Command Mode Mgmt-xmpp Configuration

Command Syntax


[[CODE:code_subsection_2_5_0]]

<!-- CODE:START -->
domain string
no domain
default domain
<!-- CODE:END -->

Parameters
string

domain name (text string)

Example

This command configures test.aristanetworks.com as the switch’s domain name.


[[CODE:code_subsection_2_5_1]]

<!-- CODE:START -->
switch(config)#management xmpp
test1(config-mgmt-xmpp)#server arista-xmpp
test1(config-mgmt-xmpp)#domain test.aristanetworks.com
test1(config-mgmt-xmpp)#username test1@test.aristanetworks.com password 0 arista
test1(config-mgmt-xmpp)#no shutdown
<!-- CODE:END -->


This command removes the domain name from the XMPP configuration.


[[CODE:code_subsection_2_5_2]]

<!-- CODE:START -->
switch(config-mgmt-xmpp)#no domain
switch(config-mgmt-xmpp)#
<!-- CODE:END -->

idle-timeout (Console Management)

The idle-timeout (Console Management) command configures the idle timeout period for console 
connection sessions. The idle timeout is the interval that the connection waits after a user’s most recent 
command before shutting down the connection. Automatic connection timeout is disabled by setting 
the idle-timeout to zero, which is the default setting.

The no idle-timeout and default idle-timeout commands disables the automatic connection timeout by 
removing the idle-timeout statement from running-config.

Command Mode Mgmt-console

Command Syntax


[[CODE:code_subsection_2_5_3]]

<!-- CODE:START -->
idle-timeout idle_period
no idle-timeout
default idle-timeout
<!-- CODE:END -->

Parameters

idle_period

session idle timeout length. Options include:

— 0 Automatic connection timeout is disabled
— <1 to 86400>  Automatic timeout period (minutes).

Example

These commands configure a console idle-timeout period of three hours, then return the switch to 
global configuration mode.


[[CODE:code_subsection_2_5_4]]

<!-- CODE:START -->
switch(config)#management console
switch(config-mgmt-console)#idle-timeout 180
switch(config-mgmt-console)#exit
switch(config)#
<!-- CODE:END -->


These commands disable automatic connection timeout.


[[CODE:code_subsection_2_5_5]]

<!-- CODE:START -->
switch(config)#management console
switch(config-mgmt-console)#idle-timeout 0
switch(config-mgmt-console)#
<!-- CODE:END -->

idle-timeout (SSH Management)

The idle-timeout (SSH Management) command configures the idle timeout period for SSH connection 
sessions. The idle timeout is the interval that the connection waits after a user’s most recent command 
before shutting down the connection. Automatic connection timeout is disabled by setting the 
idle-timeout to zero, which is the default setting.

The no idle-timeout and default idle-timeout commands disables the automatic connection timeout by 
removing the idle-timeout statement from running-config.

Command Mode Mgmt-ssh Configuration

[[CODE:code_subsection_2_5_6]]

Command Syntax
<!-- CODE:START -->
idle-timeout idle_period
no idle-timeout
default idle-timeout
<!-- CODE:END -->

Parameters

idle_period

session idle timeout length. Options include:

— 0 Automatic connection timeout is disabled
— <1 to 86400>  Automatic timeout period (minutes).

Example

These commands configure an ssh idle-timeout period of three hours, then return the switch to 
global configuration mode.

[[CODE:code_subsection_2_5_7]]

<!-- CODE:START -->
switch(config)#management ssh
switch(config-mgmt-ssh)#idle-timeout 180
switch(config-mgmt-ssh)#exit
switch(config)#
<!-- CODE:END -->


These commands disable automatic connection timeout.


[[CODE:code_subsection_2_5_8]]

<!-- CODE:START -->
switch(config)#management ssh
switch(config-mgmt-ssh)#idle-timeout 0
switch(config-mgmt-ssh)#
<!-- CODE:END -->

idle-timeout (Telnet Management)

The idle-timeout (Telnet Management) command configures the idle timeout period for Telnet 
connection sessions. The idle timeout is the interval that the connection waits after a user’s most recent 
command before shutting down the connection. Automatic connection timeout is disabled by setting 
the idle-timeout to zero, which is the default setting.

The no idle-timeout and default idle-timeout commands disables the automatic connection timeout by 
removing the idle-timeout statement from running-config.

Command Mode Mgmt-telnet

Command Syntax


[[CODE:code_subsection_2_5_9]]

<!-- CODE:START -->
idle-timeout idle_period
no idle-timeout
default idle-timeout
<!-- CODE:END -->

Parameters

idle_period

session idle timeout length. Options include:

— 0 Automatic connection timeout is disabled
— <1 to 86400>  Automatic timeout period (minutes).

Example

These commands configure a telnet idle-timeout period of three hours, then return the switch to 
global configuration mode.


[[CODE:code_subsection_2_5_10]]

<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#idle-timeout 180
switch(config-mgmt-telnet)#exit
switch(config)#
<!-- CODE:END -->


These commands disable automatic connection timeout.

[[CODE:code_subsection_2_5_11]]

<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#idle-timeout 0
switch(config-mgmt-telnet)#
<!-- CODE:END -->

management api http-commands

The management api http-commands command places the switch in mgmt-api-http-cmds 
configuration mode.

The no management api http-commands and default management api http-commands commands 
delete mgmt-api-http-command configuration mode statements from running-config.

Mgmt-api-http-cmds configuration mode is not a group change mode; running-config is changed 
immediately upon entering commands. Exiting mgmt-api-http-cmds configuration mode does not 
affect running-config. The exit command returns the switch to global configuration mode.

Command Mode Global Configuration


[[CODE:code_subsection_2_5_12]]

Command Syntax
<!-- CODE:START -->
management api http-commands
no management api http-commands
default management api http-commands
<!-- CODE:END -->

Commands Available in Mgmt-api-http-commands Configuration Mode

protocol http (API Management)
protocol https (API Management)
protocol https certificate (API Management)
shutdown (API Management)
vrf (API Management)

Example

This command places the switch in mgmt-api-http-cmds configuration mode.


[[CODE:code_subsection_2_5_13]]

<!-- CODE:START -->
switch(config)#management api http-commands
switch(config-mgmt-api-http-cmds)#
<!-- CODE:END -->


This command returns the switch to global management mode.

[[CODE:code_subsection_2_5_14]]

<!-- CODE:START -->
switch(config-mgmt-api-http-cmds)#exit
switch(config)#
<!-- CODE:END -->

management console

The management console command places the switch in mgmt-console configuration mode to adjust 
the idle timeout period for console connection sessions. The idle timeout period determines the 
inactivity interval that terminates a connection session.

The no management console and default management console commands delete mgmt-console 
configuration mode statements from running-config.

Mgmt-console configuration mode is not a group change mode; running-config is changed immediately 
upon entering commands. Exiting mgmt-console configuration mode does not affect running-config. 
The exit command returns the switch to global configuration mode.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_2_5_15]]

<!-- CODE:START -->
management console
no management console
default management console
<!-- CODE:END -->

Commands Available in mgmt-console Configuration Mode

idle-timeout (Console Management)

Example

This command places the switch in mgmt-console configuration mode:

[[CODE:code_subsection_2_5_16]]

<!-- CODE:START -->
switch(config)#management console
switch(config-mgmt-console)#
<!-- CODE:END -->


This command returns the switch to global management mode:

[[CODE:code_subsection_2_5_17]]

<!-- CODE:START -->
switch(config-mgmt-console)#exit
switch(config)#
<!-- CODE:END -->

management ssh

The management ssh command places the switch in mgmt-ssh configuration mode to adjust SSH 
session connection parameters.

The no management ssh and default management ssh commands delete the mgmt-ssh configuration 
mode statements from running-config.

Mgmt-ssh configuration mode is not a group change mode; running-config is changed immediately 
upon entering commands. Exiting mgmt-ssh configuration mode does not affect running-config. The 
exit command returns the switch to global configuration mode.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_2_5_18]]

<!-- CODE:START -->
management ssh
no management ssh
default management ssh
<!-- CODE:END -->

authentication mode (Management-SSH)
cipher (Management-SSH)
fips restrictions (Management-SSH)
hostkey (Management-SSH)
idle-timeout (Management-SSH)
ip access group (Management-SSH)
ipv6 access group (Management-SSH)
key-exchange (Management-SSH)
login timeout (Management-SSH)

Commands Available in Mgmt-ssh Configuration Mode
• mac hmac (Management-SSH)
server-port (Management-SSH)
shutdown (Management-SSH)
vrf (Management-SSH)

Example

This command places the switch in mgmt-ssh configuration mode:


[[CODE:code_subsection_2_5_19]]

<!-- CODE:START -->
switch(config)#management ssh
switch(config-mgmt-ssh)#
<!-- CODE:END -->


This command returns the switch to global management mode:


[[CODE:code_subsection_2_5_20]]

<!-- CODE:START -->
switch(config-mgmt-ssh)#exit
switch(config)#
<!-- CODE:END -->

management telnet

The management telnet command places the switch in mgmt-telnet configuration mode to adjust telnet 
session connection parameters.

The no management telnet and default management telnet commands delete the mgmt-telnet 
configuration mode statements from running-config.

Mgmt-telnet configuration mode is not a group change mode; running-config is changed immediately 
upon entering commands. Exiting mgmt-telnet configuration mode does not affect running-config. The 
exit command returns the switch to global configuration mode.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_2_5_21]]

<!-- CODE:START -->
management telnet
no management telnet
default management telnet
<!-- CODE:END -->

Commands Available in mgmt-telnet Configuration Mode

idle-timeout (Management-Telnet)
ip access group (Management-Telnet)
ipv6 access group (Management-Telnet)
shutdown (Management-Telnet)
vrf (Management-Telnet)

Example

This command places the switch in mgmt-telnet configuration mode:

[[CODE:code_subsection_2_5_22]]

<!-- CODE:START -->
switch(config)#management telnet
switch(config-mgmt-telnet)#
<!-- CODE:END -->


This command returns the switch to global management mode:

[[CODE:code_subsection_2_5_23]]

<!-- CODE:START -->
switch(config-mgmt-telnet)#exit
switch(config)#
<!-- CODE:END -->

management xmpp

The management xmpp command places the switch in mgmt-xmpp configuration mode. Management 
over XMPP is disabled by default. To enable XMPP, you must provide the location of the XMPP server 
along with the username and password for the switch.

The no management xmpp and default management xmpp commands delete the mgmt-xmpp 
configuration mode statements from running-config.

Mgmt-xmpp configuration mode is not a group change mode; running-config is changed immediately 
upon entering commands. Exiting mgmt-xmpp configuration mode does not affect running-config. The 
exit command returns the switch to global configuration mode.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_2_5_24]]

<!-- CODE:START -->
management xmpp
no management xmpp
default management xmpp
<!-- CODE:END -->

Commands Available in Mgmt-xmpp Configuration Mode

domain (Management-xmpp)
server (Management-xmpp)
session (Management-xmpp)
shutdown (Management-xmpp)
switch-group (Management-xmpp)
username (Management-xmpp)
vrf (Management-xmpp)

Example

This command places the switch in mgmt-xmpp configuration mode:

[[CODE:code_subsection_2_5_26]]

<!-- CODE:START -->
switch(config)#management xmpp
switch(config-mgmt-xmpp)#
<!-- CODE:END -->


This command returns the switch to global management mode:

[[CODE:code_subsection_2_5_27]]

<!-- CODE:START -->
switch(config-mgmt-xmpp)#exit
switch(config-mgmt-xmpp)#
<!-- CODE:END -->


protocol http (API Management)

The protocol http command enables the hypertext transfer protocol (HTTP) server. 

You can only have HTTP or HTTPS enabled at one time. Trying to enable both simultaneously generates 
this error message: 

[[CODE:code_subsection_2_5_28]]

<!-- CODE:START -->
% Cannot enable HTTP and HTTPS simultaneously
<!-- CODE:END -->

The no protocol http and default protocol http commands disable the HTTP server by removing the 
protocol http statement from running-config.

Command Mode Mgmt-API Configuration

Command Syntax

[[CODE:code_subsection_2_5_29]]

<!-- CODE:START -->
protocol http [TCP_PORT]
no protocol http
default protocol http
<!-- CODE:END -->

Parameters

TCP_PORT Port number to be used for the HTTP server. Options include:

— <no parameter>  Specifies default port number 80.
— port <1 to 65535> Specifies HTTP server port number. Value ranges from 1 to 65535.

Related Commands
• management api http-commands places the switch in Management-api configuration mode.

Examples

These commands enables the management API for the HTTP server.


[[CODE:code_subsection_2_5_30]]

<!-- CODE:START -->
switch(config)#management api http-commands
switch(config-mgmt-api-http-cmds)#
<!-- CODE:END -->

protocol https (API Management)

The protocol https command enables the HTTP secure server. The HTTP secure server is active by 
default.

You can only have HTTP or HTTPS enabled at one time, if you try to enable them both you will receive 
the error message: 

[[CODE:code_subsection_2_5_31]]

<!-- CODE:START -->
% Cannot enable HTTP and HTTPS simultaneously
<!-- CODE:END -->

The default protocol https command restores the default setting by removing the no protocol https 
statement from running-config. The no protocol https command disables the HTTP secure server.

Command Mode Mgmt-API Configuration

Command Syntax


[[CODE:code_subsection_2_5_32]]

<!-- CODE:START -->
protocol https [TCP_PORT]
no protocol https
default protocol https
<!-- CODE:END -->

Parameters

TCP_PORT Port number to be used for the HTTPS server. Options include:

— <no parameter>  Specifies default port number 443.
— port <1 to 65535> Specifies HTTP server port number. Value ranges from 1 to 65535.

Related Commands
• management api http-commands places the switch in Management-api configuration mode.

Examples

These commands enables service to the HTTP server. The no shutdown command allows access to 
the service.

[[CODE:code_subsection_2_5_33]]


<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)#protocol https
switch(config-mgmt-api-http-cmds)# no shutdown
<!-- CODE:END -->


These commands specifies the port number that should be used for the HTTPS server. The no 
shutdown command allows access to the service.

[[CODE:code_subsection_2_5_34]]

<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)#protocol https port 52
switch(config-mgmt-api-http-cmds)#no shutdown
<!-- CODE:END -->


protocol https certificate (API Management)

The protocol https certificate command configures the HTTP secure server to request an X.509 
certificate from the client. The client then authenticates the certificate with a public key.

The no protocol https certificate and default protocol https certificate commands restore default 
behavior by removing the protocol https certificate statement from running-config.

Command Mode Mgmt-API Configuration

Command Syntax

[[CODE:code_subsection_2_5_35]]

<!-- CODE:START -->
protocol https certificate
no protocol https certificate
default protocol https certificate
<!-- CODE:END -->

Related Commands
• management api http-commands places the switch in Management-api configuration mode.

Examples

These commands configure the HTTP secure server to request an X.509 certificate from the client 
for authentication.

[[CODE:code_subsection_2_5_36]]

<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)#protocol https certificate
switch(config-mgmt-api-http-cmds)#
<!-- CODE:END -->


server (XMPP Management)

The server command adds a XMPP server to running-config. Multiple XMPP servers can be set up for 
redundancy. For redundant configurations, the XMPP server location should be a DNS name and not a 
raw IP address. The DNS server is responsible for returning the list of available XMPP servers, which 
the client can go through until an accessible server is found.

User authentication is provided by the XMPP server. Command authorization can be provided by EOS 
local configuration or TACACS+. The XMPP server should use the same authentication source as the 
switches. RADIUS is not supported as an XMPP authorization mechanism.

The no server and default server commands remove the specified XMPP server from running-config. 

Command Mode Mgmt-xmpp Configuration

Command Syntax

[[CODE:code_subsection_2_5_37]]

<!-- CODE:START -->
server SERVER_NAME [SERVER_PORT]
no server
default server
<!-- CODE:END -->

Parameters

SERVER_NAME XMPP server location. Options include:

— IP address in dotted decimal notation.
— a host name for the XMPP server.


SERVER_PORT

Server port. Options include:

— port <1 to 65535>  where number ranges from 1 to 65535. If no port is specified, the default 

port 5222 is used.

Examples

This command configures the server hostname arista-xmpp to server port 1.

[[CODE:code_subsection_2_5_36]]
<!-- CODE:START -->
switch(config)#management xmpp
switch(config-mgmt-xmpp)#server arista-xmpp port 1
<!-- CODE:END -->


This command removes the XMPP server.
[[CODE:code_subsection_2_5_37]]
<!-- CODE:START -->
switch(config-mgmt-xmpp)# no server
<!-- CODE:END -->

session privilege (XMPP Management)

The session privilege command will place the user in EXEC mode. The initial privilege level is 
meaningless by default. However, with the configuration of roles, users can add meaning to the 
different privilege levels. By default, XMPP does not limit access to any command.

Level 1-15: Commands accessible from EXEC Mode.

If AAA is not configured and the switch is configured to connect to the XMPP client, any message 
received is executed with privilege level 1 by default.

The no session privilege and default session privilege commands revert the list contents to none for the 
specified privilege levels.

Command Mode Mgmt-xmpp Configuration

Command Syntax

[[CODE:code_subsection_2_5_38]]

<!-- CODE:START -->
session privilege PRIV_LEVEL
no session privilege
default session privilege
<!-- CODE:END -->

Parameters
• PRIV_LEVEL

Privilege levels of the commands. Value ranges from 0 and 15.

Examples

These commands authorizes configuration commands (privilege level config 5) for XMPP. 
[[CODE:code_subsection_2_5_39]]
<!-- CODE:START -->
switch(config)#(config)#management xmpp
switch(config-mgmt-xmpp)#session privilege 5
switch(config-mgmt-xmpp)#
<!-- CODE:END -->


This command removes the privilege levels set for the XMPP session.

[[CODE:code_subsection_2_5_40]]
<!-- CODE:START -->
switch(config)#management xmpp
switch(config-mgmt-xmpp)#no session privilege 
<!-- CODE:END -->

show inventory

The show inventory command displays the hardware components installed in the switch. Serial 
numbers and a description is also provided for each component.

Command Mode

EXEC

[[CODE:code_subsection_2_5_41]]

Command Syntax
<!-- CODE:START -->
show inventory
<!-- CODE:END -->

Examples

This command displays the hardware installed in a DCS-7150S-52 switch.


[[CODE:code_subsection_2_5_42]]

<!-- CODE:START -->
switch>show inventory
System information
  Model                    Description
  ------------------------ ----------------------------------------------------
  DCS-7150S-52-CL          52-port SFP+ 10GigE 1RU + Clock

  HW Version  Serial Number  Mfg Date
  ----------- -------------- ----------
  02.00       JPE13120702    2013-03-27

System has 2 power supply slots
  Slot Model            Serial Number
  ---- ---------------- ----------------
  1    PWR-460AC-F      K192KU00241CZ
  2    PWR-460AC-F      K192L200751CZ

System has 4 fan modules
  Module  Number of Fans  Model            Serial Number
  ------- --------------- ---------------- ----------------
  1       1               FAN-7000-F       N/A
  2       1               FAN-7000-F       N/A
  3       1               FAN-7000-F       N/A
  4       1               FAN-7000-F       N/A

System has 53 ports
  Type             Count
  ---------------- ----
  Management       1
  Switched         52

System has 52 transceiver slots
  Port Manufacturer     Model            Serial Number    Rev
  ---- ---------------- ---------------- ---------------- ----
  1    Arista Networks  SFP-10G-SR       XCW1225FD753     0002
  2    Arista Networks  SFP-10G-SR       XCW1225FD753     0002
<-------OUTPUT OMITTED FROM EXAMPLE-------->
  51   Arista Networks  SFP-10G-SR       XCW1225FD753     0002
  52   Arista Networks  SFP-10G-SR       XCW1225FD753     0002

switch>
<!-- CODE:END -->

[[CODE:code_subsection_2_5_43]]

<!-- CODE:START -->
show xmpp neighbors
<!-- CODE:END -->

The show xmpp neighbors command displays all neighbors and their connection status. The XMPP 
server keeps track of all relationships between its users. 

Command Mode

EXEC

Command Syntax
[[CODE:code_subsection_2_5_44]]
<!-- CODE:START -->
show xmpp neighbors
<!-- CODE:END -->


Example

This command displays all the XMPP neighbors and their connection status.
[[CODE:code_subsection_2_5_45]]
<!-- CODE:START -->
switch#show xmpp neighbors
Neighbor                          State           Last Seen Login Time
------------------------------    --------------- -------------------------
admin@test.aristanetworks.com    present         0:01:40 ago
test1@test.aristanetworks.com    present         20:29:39 ago

Neighbor                          Status Message
------------------------------    ----------------------------------------
admin@test.aristanetworks.com
test1@test.aristanetworks.com     Arista Networks DCS-7048T-4S
switch#
<!-- CODE:END -->

show xmpp status

The show xmpp status command displays the current XMPP connection status to the server.

The XMPP server keeps track of all relationships between its users. In order for two users to directly 
communicate, this relationship must first be established and confirmed by the other party.

Switches automatically confirm requests from outside parties as long as they are a user from the same 
domain name, for example when you chat with your switch from your own XMPP chat client. 

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_2_5_46]]
<!-- CODE:START -->
show xmpp status
<!-- CODE:END -->

Example

This command displays the current XMPP connection status to the server.

[[CODE:code_subsection_2_5_47]]
<!-- CODE:START -->
switch# show xmpp status
XMPP Server:  port 5222
Client username: test@test.aristanetworks.com
Default domain: test.aristanetworks.com
Connection status: connected
switch#
<!-- CODE:END -->

show xmpp switch-group

The show xmpp switch-group command displays the configured and active switch groups for the 
switch.

Command Mode

EXEC

[[CODE:code_subsection_2_5_48]]
<!-- CODE:START -->
Command Syntax
<!-- CODE:END -->

show xmpp switch-group

Example

This command displays the configured and active switch groups.

[[CODE:code_subsection_2_5_49]]
<!-- CODE:START -->
switch#show xmpp switch-group
testroom@conference.test.aristanetworks.com
switch#
<!-- CODE:END -->

shutdown (API Management)

The shutdown command, in Mgmt-API mode, disables or enables management over API on the switch. 
API is disabled by default.

The no shutdown command, in Mgmt-API mode, re-enables the management API access. 

The default shutdown command, in Mgmt-API mode, disables the management API access and 
removes the command from the from running-config.

Command Mode Mgmt-API Configuration
Command Syntax

[[CODE:code_subsection_2_5_50]]

<!-- CODE:START -->
shutdown
no shutdown
default shutdown
<!-- CODE:END -->

Related Commands
• management api http-commands places the switch in Management-API configuration mode.

Example

These commands disables API access to the HTTP server.

[[CODE:code_subsection_2_5_51]]

<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)# shutdown
switch(config-mgmt-api-http-cmds)#
<!-- CODE:END -->


These commands enables API access to the HTTP server.
[[CODE:code_subsection_2_5_51]]
<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)# no shutdown
switch(config-mgmt-api-http-cmds)#
<!-- CODE:END -->

shutdown (Telnet Management)

The shutdown command, in management-telnet mode, disables or enables Telnet on the switch. Telnet 
is disabled by default. The management telnet command places the switch in management-telnet 
mode.


To enable Telnet, enter no shutdown at the management-telnet prompt. 
To disable Telnet, enter shutdown at the management-telnet prompt.

Command Mode Management-Telnet Configuration

Command Syntax
[[CODE:code_subsection_2_5_52]]
<!-- CODE:START -->
shutdown
no shutdown
<!-- CODE:END -->

Example

These commands enable Telnet, then return the switch to global configuration mode.
[[CODE:code_subsection_2_5_53]]

<!-- CODE:START -->

switch(config)#management telnet
switch(config-mgmt-telnet)#no shutdown
switch(config-mgmt-telnet)#exit
switch(config)#
<!-- CODE:END -->


This command disables Telnet.
[[CODE:code_subsection_2_5_54]]
<!-- CODE:START -->
switch(config-mgmt-telnet)#shutdown
<!-- CODE:END -->

shutdown (XMPP Management)

The shutdown command, in mgmt-xmpp mode, disables or enables management over XMPP on the 
switch. XMPP is disabled by default.

The no shutdown and default shutdown commands re-enable XMPP by removing the shutdown 
command from running-config.

Command Mode Mgmt-xmpp Configuration

Command Syntax
[[CODE:code_subsection_2_5_55]]
<!-- CODE:START -->
shutdown
no shutdown
default shutdown
<!-- CODE:END -->

Example

These commands enable management over XMPP, then return the switch to global configuration 
mode.
[[CODE:code_subsection_2_5_56]]
<!-- CODE:START -->
switch(config-mgmt-xmpp)#no shutdown
switch(config-mgmt-xmpp)#exit
switch(config)#
<!-- CODE:END -->


This command disables management over XMPP.
[[CODE:code_subsection_2_5_57]]
<!-- CODE:START -->
switch(config-mgmt-xmpp)#shutdown
switch(config-mgmt-xmpp)#
<!-- CODE:END -->

switch-group (XMPP Management)

The switch-group command allows you to configure each switch to join specified chat rooms on 
startup. In order for the switch to participate in a chat group, the switch has to be configured to belong 
to the specified chatroom. 

The no username and default username commands delete the specified username by removing the 
corresponding username statement from running-config.

Command Mode Mgmt-xmpp Configuration

Command Syntax


[[CODE:code_subsection_2_5_58]]
<!-- CODE:START -->
switch-group name SECURITY
no switch-group
default switch-group
<!-- CODE:END -->

Parameters

name Group name text that the user enters at the login prompt to access the CLI.

Valid usernames begin with A-Z, a-z, or 0-9 and may also contain any of these characters:

@ = # + $ ; % < ^ > & , * .  - ~ _ |

SECURITY

password assignment.

— password pwd_txt
— password 0 pwd_txt
— password 7 pwd_txt

name is protected by specified password. pwd_txt is a clear-text string.

name is protected by specified password. pwd_txt is a clear-text string.
name is protected by specified password. pwd_txt is encrypted string.

Guidelines
• A switch group is an arbitrary grouping of switches within the network which belong to one chat 

group.


In order to belong to one or more switch groups, the switch has to be manually assigned to it. 

Switch groups are defined dynamically based on the configuration of all of the switches in the 
network.

• As per the multi-user chat XMPP standard (XEP-0045), switch groups have a full name of 

GROUPNAME@conference.DOMAIN

• All CLI commands allow either the full group name or the short name, which are appended the 

@conference.DOMAIN


If the switch belongs to multiple chat rooms, you must configure each group with a separate 
command.

Examples

These commands configures the switch-group to be part of the chatroom.
[[CODE:code_subsection_2_5_59]]
<!-- CODE:START -->
switch(config)#management xmpp

switch(config-mgmt-xmpp)#switch-group testroom@conference.test.aristanetworks.com 
password 0 arista
<!-- CODE:END -->

• Use the show xmpp switch-group to verify the active switch-group for the switch.
[[CODE:code_subsection_2_5_60]]
<!-- CODE:START -->
switch# show xmpp switch-group
testroom@conference.test.aristanetworks.com
<!-- CODE:END -->

username (XMPP Management)

The username command configures the switch's username and password on the XMPP server. 

The no username and default username commands delete the specified username by removing the 
corresponding username statement from running-config.

Command Mode Mgmt-xmpp Configuration

Command Syntax
[[CODE:code_subsection_2_5_61]]
<!-- CODE:START -->
username name SECURITY
no username
default username
<!-- CODE:END -->

Parameters
name

username text that defines the XMPP username and password.

Valid usernames begin with A-Z, a-z, or 0-9 and may also contain any of these characters:

@ + # { $ } % [ ^ ] & ; * < ( >) , - .  _ ~ = |

SECURITY

password assignment.

— password pwd_txt
— password 0 pwd_txt
— password 7 pwd_txt
—

Guidelines

name specifies and unencrypted shared key. pwd_txt is a clear-text string.

name specifies and unencrypted key. pwd_txt is a clear-text string.
name specifies a hidden key. pwd_txt is encrypted string.

Encrypted strings entered through this parameter are generated elsewhere. The password 7 option 
(SECURITY) is typically used to enter a list of username-passwords from a script.

Examples

These commands create the username and assigns it a password. The password is entered in clear 
text because the parameter is set to 0.
[[CODE:code_subsection_2_5_62]]
<!-- CODE:START -->
switch(config)#management xmpp
switch(config-mgmt-xmpp)#server arista-xmpp
switch(config-mgmt-xmpp)#domain test.aristanetworks.com
switch(config-mgmt-xmpp)#username test1@test.aristanetworks.com password 0 arista
switch(config-mgmt-xmpp)#no shutdown
<!-- CODE:END -->


This command removes all usernames from the XMPP server.
[[CODE:code_subsection_2_5_63]]
<!-- CODE:START -->
switch(config-mgmt-xmpp)#no username 
switch(config-mgmt-xmpp)#
<!-- CODE:END -->

vrf (API Management)

The vrf command places the switch in VRF configuration mode for the server. If the named VRF does 
not already exist, this command creates it. 

Command Mode Mgmt-API Configuration

Command Syntax

vrf VRF_INSTANCE

Parameters
• VRF_INSTANCE

specifies the VRF instance.

— default
— vrf_name

Instance is created in the default VRF.

 Instance is created in the specified user-defined VRF.

Related Commands
• management api http-commands places the switch in Management-api configuration mode.

Example

This command creates a VRF named management-vrf and places the switch in VRF configuration 
mode for the server.
[[CODE:code_subsection_2_5_64]]
<!-- CODE:START -->
switch(config)#management api http-commands 
switch(config-mgmt-api-http-cmds)#vrf management-vrf
switch(config-mgmt-api-http-cmds-vrf-management-vrf)#
<!-- CODE:END -->

vrf (XMPP Management)

The vrf command places the switch in VRF configuration mode for the XMPP server. If the named VRF 
does not already exist, this command creates it.

The VRF configuration for the client is for the entire XMPP service, rather than per server. All servers 
resolving on a particular hostname must be reachable in the same VRF.

Command Mode Mgmt-xmpp Configuration

Command Syntax

[[CODE:code_subsection_2_5_65]]
<!-- CODE:START -->
vrf [VRF_INSTANCE]
<!-- CODE:END -->

Parameters
• VRF_INSTANCE

specifies the VRF instance.

— default
— vrf_name

Instance is created in the default VRF.

 Instance is created in the specified user-defined VRF.

Example

This command creates a VRF named management-vrf and places the switch in VRF configuration 
mode for the server.

[[CODE:code_subsection_2_5_66]]

<!-- CODE:START -->
switch(config)#management xmpp 
switch(config-mgmt-xmpp)#vrf management-vrf
switch(config-mgmt-xmpp)
<!-- CODE:END -->

xmpp send

The xmpp send command can be used to connect to the XMPP server and send messages to switches 
or switch groups within the network.

Before switches can send messages to each other, they must friend each other. An easy way to have them 
auto friend each other is to have them join the same chat room. The friendship between switches can 
be verified by using the show xmpp neighbor command.

Command Mode

Privileged EXEC

Command Syntax
[[CODE:code_subsection_2_5_67]]
<!-- CODE:START -->
xmpp send to neighbor XMIT_TYPE content
<!-- CODE:END -->
Parameters

neighbor Options include switches or switch groups within the network that are connected as 
friends in a chat room.

• XMIT_TYPE

 Transmission type. Valid options include:

— command
— message

 Sends an XMPP command.

 Sends an XMPP message.


content The command you want the friends within the chat room to display or execute.

Configuration Restrictions
• Only enable-mode commands are allowed within the multi-switch CLI.

• Changing into a different CLI mode and running several commands in that mode is not supported 

(e.g. into configuration mode)

• An external XMPP client (for example Adium) can be used to send multiple lines within a single 
message. By sending multiple lines, it is possible to change into another CLI mode. After the 
message is processed, the switch automatically return to the enable mode.

• Commands that prompt for a response (like reload) are not supported. 


Long commands, such as image file copies, may cause the switch XMPP client to momentarily stop 
responding and disconnect. The switch should reconnect and the long command should complete.

• Many command outputs display in a specific table format. To achieve the same visual feel as 
through a terminal, use a monospace font, such as Courier, for the incoming messages.

Example

This command sends the switch in the chat room the request to execute the show version 
command. 
[[CODE:code_subsection_2_5_68]]
<!-- CODE:START -->
switch# xmpp send test2 command show version
message from user: test2@test.aristanetworks.com
--------------------------------------------------
Hardware version:    04.40
Serial number:       JFL08432083
System MAC address:  001c.7301.7d69
Software image version: 4.12.3
Architecture:           i386
Internal build version: 4.12.3
Internal build ID:      f5ab5f57-9c26-4fe4-acaa-fb60fa55d01d
Uptime:                 2 hours and 38 minutes
Total memory:           1197548 kB
Free memory:            182452 kB
<!-- CODE:END -->

xmpp session

The xmpp session command is similar to running SSH from the switch. The user is required to input 
their username (default is to USER@DEFAULTDOMAIN) and password in order to connect to the 
XMPP server. This command allows you to interact in the enable mode with a switch or switch group 
over XMPP using the standard CLI, with access to help and tab completion. All commands are then 
executed remotely and only the non-empty results are displayed on the screen. 

Command Mode

Privileged EXEC

Command Syntax
[[CODE:code_subsection_2_5_69]]
<!-- CODE:START -->
xmpp session switchgroup
<!-- CODE:END -->
Parameters

switchgroup
in a chat room.

The option includes the switch group within the network that is connected as friends 

Configuration Restrictions
• Only enable-mode commands are allowed within the multi-switch CLI.

• Changing into a different CLI mode and running several commands in that mode is not supported 

(e.g. into configuration mode)

• An external XMPP client (for example Adium) can be used to send multiple lines within a single 
message. By sending multiple lines, it is possible to change into another CLI mode. After the 
message is processed, the switch automatically return to the enable mode.

• Commands that prompt for a response (like reload) are not supported. 


Long commands, such as image file copies, may cause the switch XMPP client to momentarily stop 
responding and disconnect. The switch should reconnect and the long command should complete.

• Many command outputs display in a specific table format. To achieve the same visual feel as 
through a terminal, use a monospace font, such as Courier, for the incoming messages.

Example

This command displays the status of Ethernet 3 from test1, which is a member of the switch group 
chat room. 
[[CODE:code_subsection_2_5_70]]
<!-- CODE:START -->
switch# xmpp session all@test.aristanetworks.com
xmpp-all# show int Eth3 status

response from: test1@test.aristanetworks.com

--------------------------------------------------

Port  Name  Status     Vlan     Duplex  Speed   Type
Et3   bs3   connected  in Po3   a-full  a-1000  10GBASE-SR
switch#
<!-- CODE:END -->


### CHAPTER 9: Ethernet Ports ###
--ID: chapter_9
--SOURCE: arista.txt

This chapter describes Ethernet ports supported by Arista switches. Sections covered in this chapter 
include:


Section 9.1: Ethernet Ports Introduction
Section 9.2: Ethernet Standards
Section 9.3: Ethernet Physical Layer
Section 9.4: Interfaces
Section 9.5: Ethernet Configuration Procedures
Section 9.6: Ethernet Configuration Commands

### SUBSECTION 9.1: Ethernet Ports Introduction ###
--ID: subsection_9_1
--PARENT: chapter_9

Arista switches support a variety of Ethernet network interfaces. This chapter describes the 
configuration and monitoring options available in Arista switching platforms.

### SUBSECTION 9.2: Ethernet Standards ###
--ID: subsection_9_2
--PARENT: chapter_9

Ethernet, standardized in IEEE 802.3, is a group of technologies used for communication over local area 
networks. Ethernet communication divides data streams into frames containing addresses (source and 
destination), payload, and cyclical redundancy check (CRC) information.

IEEE 802.3 also describes two types of optical fiber: single-mode fiber (SMF) and multi-mode fiber 
(MMF).


SMF is more expensive, but can be used over longer distances (over 300 meters).

• MMF is less expensive, but can only be used over distances of less than 300 meters.

### SUBSUBSECTION 9.2.1: 100 Gigabit Ethernet ###
--ID: subsubsection_9_2_1
--PARENT: subsection_9_2

The 100 Gigabit Ethernet (100GbE) standard defines an Ethernet implementation with a nominal data 
rate of 100 billion bits per second over multiple 10 gigabit lanes. 100 Gigabit Ethernet implements full 
duplex point to point links connected by network switches. Arista switches support 100GBASE-10SR 
through MXP ports.

### SUBSUBSECTION 9.2.2: 40 Gigabit Ethernet ###
--ID: subsubsection_9_2_2
--PARENT: subsection_9_2

The 40 Gigabit Ethernet (40GbE) standard defines an Ethernet implementation with a nominal data rate 
of 40 billion bits per second over multiple 10 gigabit lanes. 40 Gigabit Ethernet implements full duplex 
point to point links connected by network switches. 40 gigabit Ethernet standards are named 
40GBASE-xyz, as interpreted by [[TABLE:table_9_1]]


[[TABLE:table_9_1]]


<!-- TABLE:START -->
Table 9-1: 40GBASE-xyz Interpretation
| x                           | y          | z                                         |
|-----------------------------|------------|-------------------------------------------|
| Non-fiber media type,       | PHY        | Number of WWDM wavelengths or XAUI Lanes  |
| or fiber wavelength         | encoding   |                                           |
| C = Copper                  | R = LAN PHY| No value = 1 (serial)                     |
| F = Serial SMF              | (64B/66B)  | 4 = 4 WWDM wavelengths or XAUI Lanes      |
| K = Backplane               |            |                                           |
| L = Long (1310 nm)          |            |                                           |
| S = Short (850 nm)          |            |                                           |
<!-- TABLE:END -->


### SUBSUBSECTION 9.2.3: 10 Gigabit Ethernet ###
--ID: subsubsection_9_2_3
--PARENT: subsection_9_2


The 10 Gigabit Ethernet (10GbE) standard defines an Ethernet implementation with a nominal data rate 
of 10 billion bits per second. 10 Gigabit Ethernet implements full duplex point to point links connected 
by network switches. Half duplex operation, hubs and CSMA/CD do not exist in 10GbE. The standard 
encompasses several PHY standards; a networking device may support different PHY types through 
pluggable PHY modules. 10GbE standards are named 10GBASE-xyz, as interpreted by [[TABLE:table_9_2]]

[[TABLE:table_9_2]]

<!-- TABLE:START -->
Table 9-2: 10GBASE-xyz Interpretation
| x                           | y                  | z                                        |
|-----------------------------|--------------------|------------------------------------------|
| media type or wavelength,   | PHY encoding type  | Number of WWDM wavelengths or XAUI Lanes|
| if media type is fiber      |                    |                                          |
| C = Copper (twin axial)     | R = LAN PHY (64B/66B) | If omitted, value = 1 (serial)        |
| T = Twisted Pair            | X = LAN PHY (8B/10B)  | 4 = 4 WWDM wavelengths or XAUI Lanes  |
| S = Short (850 nm)          | W = WAN PHY(*) (64B/66B) |                                        |
| L = Long (1310 nm)          |                    |                                          |
| E = Extended (1550 nm)      |                    |                                          |
| Z = Ultra extended (1550 nm)|                    |                                          |
<!-- TABLE:END -->


### SUBSUBSECTION 9.2.4: Gigabit Ethernet ###
--ID: subsubsection_9_2_4
--PARENT: subsection_9_2

The Gigabit Ethernet (GbE), defined by IEEE 802.3-2008, describes an Ethernet version with a nominal 
data rate of one billion bits per second. GbE cables and equipment are similar to those used in previous 
standards. While full-duplex links in switches is the typical implementation, the specification permits 
half-duplex links connected through hubs.

Gigabit Ethernet physical layer standards that Arista switches support include 1000BASE-X (optical 
fiber), 1000BASE-T (twisted pair cable), and 1000BASE-CX (balanced copper cable).



1000BASE-SX is a fiber optic standard that utilizes multi-mode fiber supporting 770 to 860 nm, near 
infrared (NIR) light wavelength to transmit data over distances ranging from 220 to 550 meters. 
1000BASE-SX is typically used for intra-building links in large office buildings, co-location facilities 
and carrier neutral internet exchanges.

1000BASE-LX is a fiber standard that utilizes a long wavelength laser (1,270–1,355 nm), with a RMS 
spectral width of 4 nm to transmit data up to 5 km. 1000BASE-LX can run on all common types of 
multi-mode fiber with a maximum segment length of 550 m.

1000BASE-T is a standard for gigabit Ethernet over copper wiring. Each 1000BASE-T network 
segment can be a maximum length of 100 meters.

### SUBSUBSECTION 9.2.5: 10/100/1000 BASE-T ###
--ID: subsubsection_9_2_5
--PARENT: subsection_9_2

Arista switches provide 10/100/1000 BASE-T Mbps Ethernet out of band management ports. 
Auto-negotiation is enabled on these interfaces. Speed (10/100/1000), duplex (half/full), and flow control 
settings are available using the appropriate speed forced and flowcontrol commands.






### SUBSECTION 9.3: Ethernet Physical Layer ###
--ID: subsection_9_3
--PARENT: chapter_9


The Ethernet physical layer (PHY) includes hardware components connecting a switch’s MAC layer to 
the transceiver, cable, and ultimately a peer link partner. Data exist in digital form at the MAC layer. On 
the line side of the PHY, data exist as analog signals: light blips on optical fiber or voltage pulses on 
copper cable. Signals may be distorted while in transit and recovery may require signal processing.

Ethernet physical layer components include a PHY and a transceiver.

### SUBSUBSECTION 9.3.1: PHYs ###
--ID: subsubsection_9_3_1
--PARENT: subsection_9_3

The PHY provides translation services between the MAC layer and transceiver. It also helps to establish 
links between the local MAC layer and peer devices by detecting and signaling fault conditions. The 
PHY line-side interface receives Ethernet frames from the link partner as analog waveforms. The PHY 
uses signal processing to recover the encoded bits, then sends them to the MAC layer.

PHY line-side interface components and their functions include:


Physical Medium Attachment (PMA): Framing, octet synchronization, scrambling / descrambling.
Physical Medium Dependent (PMD): Consists of the transceiver.
Physical Coding Sublayer (PCS): Performs auto-negotiation and coding (8B/10B or 64B/66B).

The MAC sublayer of the PHY provides a logical connection between the MAC layer and the peer device 
by initializing, controlling, and managing the connection with the peer.

Ethernet frames transmitted by the switch are received by the PHY system-side interface as a sequence 
of digital bits. The PHY encodes them into a media-specific waveform for transmission through the 
line-side interface and transceiver to the link peer. This encoding may include signal processing, such 
as signal pre-distortion and forward error correction.

PHY system-side interface components and their functions include:


10 Gigabit Attachment Unit Interface (XAUI): Connects an Ethernet MAC to a 10 G PHY.
Serial Gigabit Media Independent Attachment (SGMII): Connects an Ethernet MAC to a 1G PHY.

### SUBSUBSECTION 9.3.2: Transceivers ###
--ID: subsubsection_9_3_2
--PARENT: subsection_9_3

A transceiver connects the PHY to an external cable (optical fiber or twisted-pair copper) and through a 
physical connector (LC jack for fiber or RJ-45 jack for copper).

• Optical transceivers convert the PHY signal into light pulses that are sent through optical fiber.
• Copper transceivers connect the PHY to twisted-pair copper cabling.

Arista Small Form-Factor Pluggable (SFP+) and Quad Small Form Factor Pluggable (QSFP+) modules 
and cables provide high-density, low-power Ethernet connectivity over fiber and copper media. Arista 
offers transceivers that span data rates, media types, and transmission distances.

Arista 10 Gigabit Ethernet SFP+ Modules:


10GBASE-SR (Short Reach)

— Link length maximum 300 meters over multi-mode fiber.
— Optical interoperability with 10GBASE-SRL.


10GBASE-SRL (Short Reach Lite)

— Link length maximum 100 meters over multi-mode fiber.
— Optical interoperability with 10GBASE-SR.


10GBASE-LRL (Long Reach Lite)








— Link length maximum 1 km over single-mode fiber.
— Optical interoperability with 10GBASE-LR (1 km maximum).


10GBASE-LR (Long Reach)

— Link length maximum 10 km over single-mode fiber.
— Optical interoperability with 10GBASE-LRL (1 km maximum).


10GBASE-LRM (Long Reach Multimode)

— Link length maximum 220 meters over multi-mode fiber (50 um and 62.5 um).


10GBASE-ER (Extended Reach)

— Link length maximum 40 km over single-mode fiber.


10GBASE-ZR (Ultra-Extended Reach)

— Link length maximum 80 km over single-mode fiber.


10GBASE-DWDM (Dense Wavelength Division Multiplexing)

— Link length maximum 80 km over single-mode fiber (40 color options).

Arista 10 Gigabit Ethernet CR Cable Modules:


10GBASE-CR SFP+ to SFP+ Cables

— Link lengths of 0.5, 1, 1.5, 2, 2.5, 3, 5 and 7 meters over twinax copper cable
— Includes SFP+ connectors on both ends


4 x 10GbE QSFP+ to 4 x SFP+ twinax copper cables

— Link lengths of 0.5, 1, 2 and 3 meters over twinax copper cable

Arista 40 Gigabit Ethernet QSFP+ Cables and Optics:


40GBASE-SR4 QSFP+ Transceiver

— Link length maximum 100 meters over parallel OM3 or 150 meters over OM4 MMF
— Optical interoperability with 40GBASE-XSR4 (100/150 meter maximum)


40GBASE-XSR4 QSFP+ Transceiver

— Link length maximum 300 meters over parallel OM3 or 450 meters over OM4 MMF
— Optical interoperability with 40GBASE-SR4 (100/150 meter maximum)


40GBASE-LR4 QSFP+

— Link length maximum 10 km over duplex single-mode fiber


40GBASE-CR4 QSFP+ to QSFP+ twinax copper cables

— Link lengths of 1, 2, 3, 5 and 7 meters over twinax copper cable

Arista Gigabit Ethernet SFP Options:


1000BASE-SX (Short Haul)

— Multi-mode fiber
— Link length maximum 550 meter 


1000BASE-LX (Long Haul)

— Single-mode or multi-mode fiber
— Link length maximum 10 km (single mode) or 550 meters (multi-mode)









1000BASE-T (RJ-45 Copper)

— Category 5 cabling
— Full duplex 1000Mbps connectivity

Internal ports

Several Arista switches include internal ports that connect directly to an external cable through an RJ-45 
jack. Internal ports available on Arista switches include:


100/1000BASE-T (7048T-A)
100/1000/10GBASE-T (7050-T)

### SUBSUBSECTION 9.3.3: MXP Ports ###
--ID: subsubsection_9_3_3
--PARENT: subsection_9_3

MXP ports provide embedded optics that operate in one of three modes: 10GbE (12 ports), 40GbE (3 
ports), and 100GbE (1 port). Each mode requires a specified cable is implemented through configuration 
commands. MXP ports utilize multi-mode fiber to provide support over 150 meters.




100GbE mode requires an MTP-24 to MTP-24 cable, which uses 20 of 24 fibers to carry 100Gbe across 
10 send and 10 receive channels. When connecting two 100GbE MXP ports, the TX lanes must be 
crossed with the RX lanes. 

40GbE mode requires an MTP cable that provides a split into three MTP-12 ends. The cable splits 
the MXP port into three MTP-12 ends, each compatible with standards based 40GBASE-SR4 ports 
over OM3 or OM4 fiber up to 100m or 150m.

10GbE mode requires an MTP cable that provides a split into 12x10G with LC connectors to adapt 
the MXP port into 12x10GbE. The cable splits the MXP port into twelve LC ends for using SR or SRL 
optics over multimode OM3/OM4 cables.







### SUBSECTION 9.4: Interfaces ###
--ID: subsection_9_4
--PARENT: chapter_9

Arista switches provide two physical interface types that receive, process, and transmit Ethernet frames: 
Ethernet interfaces and Management interfaces.

Each Ethernet interface is assigned a 48-bit MAC address and communicates with other interfaces by 
exchanging data packets. Each packet contains the MAC address of its source and destination interface. 
Ethernet interfaces establish link level connections by exchanging packets. Interfaces do not typically 
accept packets with a destination address of a different interface.

Ethernet data packets are frames. A frame begins with preamble and start fields, followed by an 
Ethernet header that includes source and destination MAC addresses. The middle section contains 
payload data, including headers for other protocols carried in the frame. The frame ends with a 32-bit 
cyclic redundancy check (CRC) field that interfaces use to detect data corrupted during transmission.

### SUBSUBSECTION 9.4.1: Ethernet Interfaces ###
--ID: subsubsection_9_4_1
--PARENT: subsection_9_4

Ethernet speed and duplex configuration options depend on the media type of the interface:








40G QSFP+: Default operation is as four 10G ports. Speed forced command options support 
configuration as a single 40G port.

10GBASE-T: Mode is autonegotiate by default, offering 10G and 1G full duplex and 100M. Default 
setting is 10G. Half duplex and 10M are not supported. Adjustments may be made using speed 
forced commands.

10GBASE (SFP+): Port operates as a single 10G port. Speed forced commands do not affect 
configuration.

1000BASE-T (copper): Mode is autonegotiate by default, offering 1G full and 100M; default setting 
is 1G full. Autonegotiation that offers only 100M is available through speed auto 100full command. 
Half duplex and 10M are not supported.

100G CFP: Default operation is 100G. It cannot be split, and its speed cannot be changed.

100G MXP: Default operation is as a single 100G port on the 7500 and 7280 platforms, and as three 
40G ports on the 7050 platform. On the 7500 and 7280 platforms, available speed/duplex settings are 
a single100G port, three 40G ports, or twelve 10G ports. On the 7050 platform, available 
speed/duplex settings are three 40G ports or twelve 10G ports. Adjustments are made with speed 
forced commands.

100G QSFP100: Available speeds are transceiver-dependent. The QSFP100 transceiver supports a 
single 100G port, four 25G ports, or two 50G ports; the QSFP+ transceiver supports one 40G port 
or four 10G ports; the CWDM transceiver supports all five configurations. Adjustments are made 
using speed forced commands. Note: 7500 and 7280 families do not currently support 25G or 50G 
speeds.

For information relating to transceivers, please see Transceivers.

### SUBSUBSECTION 9.4.2: Subinterfaces ###
--ID: subsubsection_9_4_2
--PARENT: subsection_9_4

Subinterfaces divide a single ethernet or port channel interface into multiple logical L3 interfaces based 
on the 802.1q tag (VLAN ID) of incoming traffic. Subinterfaces are commonly used in the L2/L3 
boundary device, but they can also be used to isolate traffic with 802.1q tags between L3 peers by 
assigning each subinterface to a different VRF.

While subinterfaces can be configured on a port channel interface (the virtual interface associated with 
a port channel), the following restrictions apply:








• An L3 interface with subinterfaces configured on it should not be made a member of a port 

channel.

• An interface that is a member of a port channel should not have subinterfaces configured on it.

• A subinterface cannot be made a made of a port channel.

Subinterfaces on multiple ports can be assigned the same VLAN ID, but there is no bridging between 
subinterfaces (or between subinterfaces and SVIs), and each subinterface is considered to be in a 
separate bridge domain.

The following features are supported on subinterfaces:

• Unicast and multicast routing

• BGP, OSPF, ISIS, PIM

• VRF

• VRRP



SNMP

Subinterface counters (on some platforms)

• VXLAN (on some platforms)

• MPLS (on some platforms)

• GRE (on some platforms)


PBR (on some platforms)

• QoS (on some platforms)



Inheriting QoS settings (trust mode and default DSCP) from the parent interface

Inheriting MTU setting from parent interface

The following are not supported on subinterfaces:

• BFD

• ACL




Per-subinterface MTU setting

Per-subinterface SFLOW settings

Per-subinterface mirroring settings

### SUBSUBSECTION 9.4.3: Agile Port ###
--ID: subsubsection_9_4_3
--PARENT: subsection_9_4

Agile Ports are a feature of the 7150S Series that allows the user to configure adjacent blocks of 4 x SFP+ 
interfaces as a single 40G link. The set of interfaces that can be combined to form a higher speed port is 
restricted by the hardware configuration. Only interfaces that pass through a common PHY component 
can be combined. One interface within a combinable set is designated as the primary port. When the 
primary interface is configured as a higher speed port, all configuration statements are performed on 
that interface. All other interfaces in the set are subsumed and not individually configurable when the 
primary interface is configured as the higher speed port. This feature allows the 7150S-24 to behave as 
a 4x40G switch (using 16 SFP+) and the remaining SFP+ provide 8 x 10G ports. On the 7150S-52 this 
allows up to 13x 40G (all 52 ports grouped as 40G) and on the 7150S-64 Agile Ports allows the switch to 
be deployed with up to 16 native 40G interfaces - 4 are QSFP+ and the remaining 12 as 4xSFP+ groups.

Section 9.5.11 describes the configuration of agile ports.







Interfaces

### SUBSUBSECTION 9.4.4: Management Interfaces ###
--ID: subsubsection_9_4_4
--PARENT: subsection_9_4

The management interface is a layer 3 host port that is typically connected to a PC for performing out 
of band switch management tasks. Each switch has one or two management interfaces. Only one port 
is needed to manage the switch; the second port, when available, provides redundancy.

Management interfaces are 10/100/1000 BASE-T interfaces. By default, auto-negotiation is enabled on 
management interfaces. All combinations of speed 10/100/1000 and full or half duplex is enforceable on 
these interfaces through speed commands.

Management ports are enabled by default. The switch cannot route packets between management ports 
and network (Ethernet interface) ports because they are in separate routing domains. When the PC is 
multiple hops from the management port, packet exchanges through layer 3 devices between the 
management port and PC may require the enabling of routing protocols.

The Ethernet management ports are accessed remotely over a common network or locally through a 
directly connected PC. An IP address and static route to the default gateway must be configured to 
access the switch through a remote connection.

### SUBSUBSECTION 9.4.5: Tunable SFP ###
--ID: subsubsection_9_4_5
--PARENT: subsection_9_4

Tuning of DWDM 10G SFP+ transceivers (10GBASE-DWDM) includes:


Tuning transceiver wavelength/frequency by channel number
Showing wavelengths/frequencies for specified channels supported by the transceiver
Showing current wavelength/frequency settings of the transceiver interface

For information relating to tuning the transceiver wavelength/frequency by channel number, refer to 
the command transceiver channel. To show the current wavelength/frequency settings for specified 
channels, refer to the command show interfaces transceiver channels. To show the current 
wavelength/frequency settings of an interface, refer to the command show interfaces transceiver 
hardware.








### SUBSECTION 9.5: Ethernet Configuration Procedures ###
--ID: subsection_9_5
--PARENT: chapter_9

These sections describe Ethernet and Management interface configuration procedures:


Section 9.5.1: Physical Interface Configuration Modes
Section 9.5.2: Assigning a MAC Address to an Interface
Section 9.5.3: Port Groups (QSFP+ and SFP+ Interface Selection)
Section 9.5.4: Referencing Modular Ports
Section 9.5.5: Referencing Multi-lane Ports
Section 9.5.6: QSFP+ Ethernet Port Configuration
Section 9.5.7: QSFP100 Ethernet Port Configuration
Section 9.5.8: CFP2 Ethernet Port Configuration
Section 9.5.9: MXP Ethernet Port Configuration
Section 9.5.10: Port Speed Capabilities
Section 9.5.11: Agile Ports
Section 9.5.12: Subinterface Configuration
Section 9.5.13: Autonegotiated Settings
Section 9.5.14: Displaying Ethernet Port Properties

### SUBSUBSECTION 9.5.1: Physical Interface Configuration Modes ###
--ID: subsubsection_9_5_1
--PARENT: subsection_9_5

The switch provides two configuration modes for modifying Ethernet parameters:


Interface-Ethernet mode configures parameters for specified Ethernet interfaces.
Interface-Management mode configures parameters for specified management Ethernet interfaces.

Physical interfaces cannot be created or removed.

Multiple interfaces can be simultaneously configured. Commands are available for configuring 
Ethernet specific, layer 2, layer 3, and application layer parameters. Commands that modify protocol 
specific settings in Ethernet configuration mode are listed in the protocol chapters.


The interface ethernet command places the switch in Ethernet-interface configuration mode.
The interface management command places the switch in management configuration mode.

Examples

This command places the switch in Ethernet-interface mode for Ethernet interfaces 5-7 and 10.
[[CODE:code_subsubsubsection_9_5_1_0]]
<!-- CODE:START -->
switch(config)#interface ethernet 5-7,10
switch(config-if-Et5-7,10)#
<!-- CODE:END -->

This command places the switch in management-interface mode for management interface 1.
[[CODE:code_subsubsubsection_9_5_1_1]]
<!-- CODE:START -->
switch(config)#interface management 1
switch(config-if-Ma1)#
<!-- CODE:END -->

### SUBSUBSECTION 9.5.2: Assigning a MAC Address to an Interface ###
--ID: subsubsection_9_5_2
--PARENT: subsection_9_5

Ethernet and Management interfaces are assigned a MAC address when manufactured. This address is 
the burn-in address. The mac-address command assigns a MAC address to the configuration mode 
interface in place of the burn-in address. The no mac-address command reverts the interface’s current 
MAC address to its burn-in address.

Examples

This command assigns the MAC address of 001c.2804.17e1 to Ethernet interface 7.
[[CODE:code_subsubsubsection_9_5_2_0]]
<!-- CODE:START -->
switch(config-if-Et7)#mac-address 001c.2804.17e1
<!-- CODE:END -->
This command displays the MAC address of Ethernet interface 7. The active MAC address is 
001c.2804.17e1. The burn-in address is 001c.7312.02e2.
[[CODE:code_subsubsubsection_9_5_2_1]]
<!-- CODE:START -->
switch(config-if-Et7)#show interface ethernet 7
Ethernet7 is up, line protocol is up (connected)
  Hardware is Ethernet, address is 001c.2804.17e1 (bia 001c.7312.02e2)
  Description: b.e45
<-------OUTPUT OMITTED FROM EXAMPLE-------->

switch(config-if-Et7)#
<!-- CODE:END -->

### SUBSUBSECTION 9.5.3: Port Groups (QSFP+ and SFP+ Interface Selection) ###
--ID: subsubsection_9_5_3
--PARENT: subsection_9_5

Several of Arista’s fixed switches limit the number of 10G data lanes in operation through the use of port 
groups. A port group is a set of interfaces that can be configured as four SFP+ interfaces or a single 
QSFP+ interface. When configured in SFP+ mode, the port group enables 4 standalone 10GbE 
interfaces using SFP+ optics. When configured in QSFP+ mode, the port group enables a single 
QSFP+ interface (in addition to the dedicated QSFP+ ports), which can operate as a single 40GbE port, 
or as four 10GbE ports with the appropriate breakout cabling.

Hardware port groups are used on the following systems:

• DCS-7050Q-16

• DCS-7050QX-32S

Use the hardware port-group command to select the interface mode for the specified port group. 

Important The hardware port-group command restarts the forwarding agent, which disrupts traffic on all switch

ports. 

Example

These commands configure the DCS-7050-Q16 switch to enable four SFP+ interfaces and one extra 
QSFP+ interface by enabling the SFP+ interfaces in port group 1 and the QSFP+ interface in port 
group 2.

[[CODE:code_subsubsection_9_3_3_0]]

<!-- CODE:START -->
switch(config)#hardware port-group 1 select Et17-20
switch(config)#hardware port-group 2 select Et16/1-4
<!-- CODE:END -->

The show hardware port-group command displays the status of ports in the port groups.

Example

This command displays the status of the flexible ports within the two port groups on a 
DCS-7050Q-16 switch. 

[[CODE:code_subsubsection_9_3_3_1]]
<!-- CODE:START -->
switch#show hardware port-group

Portgroup: 1    Active Ports: Et17-20
Port            State
------------------------------------------
Ethernet17      Active
Ethernet18      Active
Ethernet19      Active
Ethernet20      Active
Ethernet15/1    ErrDisabled
Ethernet15/2    ErrDisabled
Ethernet15/3    ErrDisabled
Ethernet15/4    ErrDisabled

Portgroup: 2    Active Ports: Et16/1-4
Port            State
------------------------------------------
Ethernet16/1
Ethernet16/2
Ethernet16/3
Ethernet16/4
Ethernet21
Ethernet22
Ethernet23
Ethernet24

Active
Active
Active
Active
ErrDisabled
ErrDisabled
ErrDisabled
ErrDisabled 
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.3.1: DCS-7050Q-16 ###
--ID: subsubsubsection_9_5_3_1
--PARENT: subsubsection_9_5_3

The DCS-7050Q-16 has 14 dedicated QSFP+ ports, plus two port groups. The port groups support 
either two additional QSFP+ ports or eight SFP+ ports as shown in [[[TABLE:table_9_3]]
[TABLE:table_9_3]]

<!-- TABLE:START -->
Table 9-3: DCS-7050Q-16 Port Groups
| Port Group 1         | Active Interface(s) | Port Group 2        | Active Interface(s) |
|----------------------|---------------------|---------------------|---------------------|
| In SFP+ Mode         | Et17-20             | In SFP+ Mode        | Et21-24             |
| (four SFP+ ports)    |                     | (four SFP+ ports)   |                     |
| In QSFP+ Mode (Default)| Et15/1-4          | In QSFP+ Mode (Default) | Et16/1-4        |
| (one QSFP+ port)     |                     | (one QSFP+ port)    |                     |
<!-- TABLE:END -->


### SUBSUBSUBSECTION 9.5.3.2: DCS-7050QX-32S ###
--ID: subsubsubsection_9_5_3_2
--PARENT: subsubsection_9_5_3

The DCS-7050QX-32S has 31 dedicated QSFP+ ports, plus one port group. The port group supports 
either one additional QSFP+ port or four SFP+ ports as shown in [[[TABLE:table_9_4]]
[TABLE:table_9_4]]

<!-- TABLE:START -->
Table 9-4: DCS-7050QX-32S Port Groups
| Port Group 1        | Active Interface(s)  | Port Group 2       | Active Interface(s) |
|---------------------|----------------------|--------------------|---------------------|
| In SFP+ Mode        | Et1-4                | In QSFP+ Mode      | Et5/1-4             |
| (four SFP+ ports)   |                      | (one QSFP+ port)   |                     |
<!-- TABLE:END -->

### SUBSUBSECTION 9.5.4: Referencing Modular Ports ###
--ID: subsubsection_9_5_4
--PARENT: subsection_9_5

Arista modular switches provide port access through installed linecards. The maximum number of 
linecards on a modular switch varies with the switch series and model.

Several CLI commands modify modular parameters for all ports on a specified linecard or controlled by 
a specified chip. This manual uses these conventions to reference modular components:

card_x refers to a line card.

• module_y refers to a QSFP+ module.

port_z refers to a linecard or module port.

Commands that display Ethernet port status use the following conventions:

SFP ports: : card_x/port_z to label the linecard-port location of modular ports

• QSFP ports: card_x/module_y/port_z to label the linecard-port location of modular ports

Section 9.5.6 describe QSFP+ module usage.

Example

[[CODE:code_subsubsection_9_5_4_0]]

<!-- CODE:START -->
This command displays the status of interfaces 1 to 9 on linecard 4:

switch>show interface ethernet 4/1-9 status
Port      Name              Status       Vlan        Duplex  Speed Type
Et4/1                       connected    1             full    10G Not Present
Et4/2                       connected    1             full    10G Not Present
Et4/3                       connected    1             full    10G Not Present
Et4/4                       connected    1             full    10G Not Present
Et4/5                       connected    1             full    10G Not Present
Et4/6                       connected    1             full    10G Not Present
Et4/7                       connected    1             full    10G Not Present
Et4/8                       connected    1             full    10G Not Present
Et4/9                       connected    1             full    10G Not Present
switch>
<!-- CODE:END -->

### SUBSUBSECTION 9.5.5: Referencing Multi-lane Ports ###
--ID: subsubsection_9_5_5
--PARENT: subsection_9_5

EOS supports two types of Ethernet ports:


single-lane (also called fixed-lane)

• multi-lane (also called flexible-lane)

Single-lane (or “fixed-lane”) ports are always modeled as a single interface within EOS. While the speed 
of the interface may be configurable, the physical port can never be broken out into multiple 
lower-speed interfaces. Single-lane ports use the following naming scheme:



Ethernet<port #> (for fixed switches)

Ethernet<module #>/<port #> (for modular switches)

Multi-lane (or “flexible lane”) ports are made up of multiple parallel lanes, each served by its own laser. 
Multi-lane ports can be configured to combine the lanes and operate as a single native high-speed 
interface (a 40GbE or 100GbE interface), or to operate each lower-speed interface independently (four 
10GbE or 25GbE interfaces). Multi-lane ports use the following naming scheme:



Ethernet<port #>/<lane #> (for fixed switches)

Ethernet<module #>/<port #>/<lane #> (for modular switches)

The operational state displayed for each lane of a multi-lane port is determined by the configuration 
applied to the primary lane(s), as shown in [[TABLE:table_9_5]]. When broken out into multiple lower-speed 
interfaces, all lanes will be active in parallel, and each will display its operational state as connected or 
not connected. In high-speed mode, only the primary lane(s) will be displayed as active, with the 
remaining lanes showing as errdisabled. The exception is the CFP2 module: when it is configured as a 
single 100GbE port, the primary lane is displayed as active in the CLI while the other lanes are hidden.

<!-- TABLE:START -->
Table 9-5: Lane States
| Parent Port Configured Mode | Primary Lane(s)          | Secondary Lanes           |
|-----------------------------|--------------------------|---------------------------|
| single high-speed interface | active (connected/not connected) | inactive (errdisabled) |
| multi-interface breakout    | active (connected/not connected) | active (connected/not connected) |
<!-- TABLE:END -->

A multi-lane port is configured as a single high-speed interface or multiple breakout interfaces by using 
the speed command on the primary lane(s) of the port. For specific configuration instructions and 
details regarding the primary lane(s) of a specific interface, refer to the configuration section for the 
appropriate interface type:

• QSFP+ Ethernet Port Configuration

• QSFP100 Ethernet Port Configuration

• CFP2 Ethernet Port Configuration

• MXP Ethernet Port Configuration

Important Use of the speed command to configure a multi-lane port is hitless on the 7050X, 7060X, 7250X, 7260X,
7280SE, 7300X, 7320X and 7500E series platforms. On all other platforms, this command restarts the
forwarding agent, which will result in traffic disruption.

### SUBSUBSECTION 9.5.6: QSFP+ Ethernet Port Configuration ###
--ID: subsubsection_9_5_6
--PARENT: subsection_9_5

Each QSFP+ module contains four data lanes which can be used individually or combined to form a 
single, higher-speed interface. This allows a QSFP+ Ethernet port to be configured as a single 40GbE 
interface or as four 10GbE interfaces.

When the four lanes are combined to form a 40GbE interface, display commands will show lane /1 as 
connected or not connected, and will show lanes /2 through /4 as errdisabled.

The following sections describe the configuration of QSFP+ ports.

### SUBSUBSUBSECTION 9.5.6.1: Configuring a QSFP+ Module as a Single 40GbE Interface ###
--ID: subsubsubsection_9_5_6_1
--PARENT: subsubsection_9_5_6

To configure the port as a single 40GbE interface, combine the module’s four data lanes by using the 
speed command (speed forced 40g full) on the port’s /1 lane (the primary lane).

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP+ Ethernet interface.

[[CODE:code_subsubsubsection_9_5_6_1_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 40gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_6_1_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 40gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_6_1_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan       Duplex  Speed   Type       Flags
Et1                connected    2          full    1G      10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1          full    40G     40GBASE-SR4
Et5/1/2            errdisabled  1          unconf  40G     40GBASE-SR4
Et5/1/3            errdisabled  1          unconf  40G     40GBASE-SR4
Et5/1/4            errdisabled  1          unconf  40G     40GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.6.2: Configuring a QSFP+ Module as Four 10GbE Interfaces ###
--ID: subsubsubsection_9_5_6_2
--PARENT: subsubsection_9_5_6

To configure the port as four 10GbE interfaces, use the speed command (speed forced 10000full) on the 
port’s /1 lane (the primary lane).

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP+ Ethernet interface.

[[CODE:code_subsubsubsection_9_5_6_2_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 10000full command. Depending on the platform, this command may 

restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_6_2_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 10000full
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.


[[CODE:code_subsubsubsection_9_5_6_2_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan       Duplex  Speed   Type         Flags
Et1                connected    2          full    1G      10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1          full    10G     40GBASE-SR4
Et5/1/2            connected    1          full    10G     40GBASE-SR4
Et5/1/3            connected    1          full    10G     40GBASE-SR4
Et5/1/4            connected    1          full    10G     40GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->

### SUBSUBSECTION 9.5.7: QSFP100 Ethernet Port Configuration ###
--ID: subsubsection_9_5_7
--PARENT: subsection_9_5

Each QSFP100 module contains four data lanes which can be used individually or combined to form a 
single, higher-speed interface. This allows a QSFP100 Ethernet port to be configured as a single 100GbE 
interface, a single 40GbE interface, or four 10GbE interfaces. The default mode is a single 100GbE 
interface.

The 7060X, 7260X and 7320X platforms also allow a QSFP100 port to be configured as two 50GbE 
interfaces or four 25GbE interfaces.

When the lanes are combined to form a higher-speed interface, display commands will show the 
primary lane(s) as connected or not connected, and will show the other lanes as errdisabled.

The following sections describe the configuration of QSFP+ ports.

### SUBSUBSUBSECTION 9.5.7.1: Configuring a QSFP100 Module as a Single 100GbE Interface ###
--ID: subsubsubsection_9_5_7_1
--PARENT: subsubsection_9_5_7

By default, the QSFP100 module operates as a single 100GbE interface; using the default speed or no 
speed command on the primary lane restores the default behavior. 

To explicitly configure the port as a single 100GbE interface, combine the module’s four data lanes by 
using the speed command (speed forced 100gfull) on the port’s /1 lane (the primary lane).

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP100 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_7_1_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 100gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_7_1_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 100gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_7_1_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan       Duplex  Speed   Type         Flags
Et1                connected    2          full    1G      10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1          full    10G     40GBASE-SR4
Et5/1/2            connected    1          full    10G     40GBASE-SR4
Et5/1/3            connected    1          full    10G     40GBASE-SR4
Et5/1/4            connected    1          full    10G     40GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->

<!-- CODE:END -->


### SUBSUBSUBSECTION 9.5.7.2: Configuring a QSFP100 Module as Two 50GbE Interfaces ###
--ID: subsubsubsection_9_5_7_2
--PARENT: subsubsection_9_5_7

To configure the port as a two 50GbE interfaces, configure the module’s four data lanes by using the 
speed command (speed forced 50gfull) on the port’s /1 and /3 lanes. This configuration is available on 
7060X, 7260X and 7320X platforms.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP100 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_7_2_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 50gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_7_2_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 50gfull
<!-- CODE:END -->

Step 3 Repeat the above steps for lane /3.

[[CODE:code_subsubsubsection_9_5_7_2_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#interface ethernet 5/1/3
switch(config-if-Et5/1/3)#speed forced 50gfull
<!-- CODE:END -->

Step 4 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_7_2_3]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan       Duplex  Speed   Type        Flags
Et1                connected    2          full    1G      10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1          full    100G    100GBASE-SR4
Et5/1/2            errdisabled  1          unconf  unconf  100GBASE-SR4
Et5/1/3            errdisabled  1          unconf  unconf  100GBASE-SR4
Et5/1/4            errdisabled  1          unconf  unconf  100GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.7.3: Configuring a QSFP100 Module as a Single 40GbE Interface ###
--ID: subsubsubsection_9_5_7_3
--PARENT: subsubsection_9_5_7

To configure the port as a single 40GbE interface, combine the module’s four data lanes by using the 
speed command (speed forced 40gfull) on the port’s /1 lane (the primary lane).

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP100 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_7_3_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 40gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.


[[CODE:code_subsubsubsection_9_5_7_3_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 40gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_7_3_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed   Type        Flags
Et1                connected    2     full    1G      10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    40G     100GBASE-SR4
Et5/1/2            errdisabled  1     unconf  unconf  100GBASE-SR4
Et5/1/3            errdisabled  1     unconf  unconf  100GBASE-SR4
Et5/1/4            errdisabled  1     unconf  unconf  100GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->


### SUBSUBSUBSECTION 9.5.7.4: Configuring a QSFP100 Module as Four 25GbE Interfaces ###
--ID: subsubsubsection_9_5_7_4
--PARENT: subsubsection_9_5_7

To configure the port as four 25GbE interfaces, use the speed command (speed forced 25gfull) on the 
port’s /1 lane (the primary lane). This configuration is available on 7060X, 7260X and 7320X platforms.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

[[CODE:code_subsubsubsection_9_5_7_4_0]]

<!-- CODE:START -->
Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP100 Ethernet interface.
<!-- CODE:END -->


switch(config)#interface ethernet 5/1/1

Step 2 Enter the speed forced 25gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_7_4_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 25gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_7_4_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    25G    100GBASE-SR4
Et5/1/2            errdisabled  1     unconf  100G   100GBASE-SR4
Et5/1/3            errdisabled  1     unconf  100G   100GBASE-SR4
Et5/1/4            errdisabled  1     unconf  100G   100GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.7.5: Configuring a QSFP100 Module as Four 10GbE Interfaces ###
--ID: subsubsubsection_9_5_7_5
--PARENT: subsubsection_9_5_7

To configure the port as four 10GbE interfaces, use the speed command (speed forced 10000full) on the 
port’s /1 lane (the primary lane).

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the QSFP100 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_7_5_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 10000full command. Depending on the platform, this command may 

[[CODE:code_subsubsubsection_9_5_7_5_1]]

<!-- CODE:START -->
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.
<!-- CODE:END -->

[[CODE:code_subsubsubsection_9_5_7_5_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 10000full
<!-- CODE:END -->


Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_7_5_3]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    25G    100GBASE-SR4
Et5/1/2            errdisabled  1     unconf  100G   100GBASE-SR4
Et5/1/3            errdisabled  1     unconf  100G   100GBASE-SR4
Et5/1/4            errdisabled  1     unconf  100G   100GBASE-SR4
<------OUTPUT OMITTED FROM EXAMPLE-------->
<!-- CODE:END -->


### SUBSUBSECTION 9.5.8: CFP2 Ethernet Port Configuration ###
--ID: subsubsection_9_5_8
--PARENT: subsection_9_5

Each CFP2 module contains ten data lanes. The configuration options available on the port depend on 
the optic inserted:

• CFP2-100G-LR4 optics operate only in 100GbE mode.

• CF2-100G-ER4 optics operate only 100GbE mode.

• CFP2-100G-XSR10 optics can be configured as a single 100GbE interface or as ten 10GbE 

interfaces.

When the port is configured as ten 10GbE interface, each lane is active and visible in CLI display 
commands. When the lanes are combined to form a single 100GbE interface, display commands will 
show the primary lane as connected or not connected; all other lanes will be hidden.

The following sections describe the configuration of CFP2 ports.


### SUBSUBSUBSECTION 9.5.8.1: Configuring a CFP2 Module as a Single 100GbE Interface ###
--ID: subsubsubsection_9_5_8_1
--PARENT: subsubsection_9_5_8

To configure the port as a single 100GbE interface (the default configuration), combine the module’s ten 
data lanes by using the speed command (speed forced 100gfull) on the port’s /1 lane (the primary lane).

This configuration is available for all pluggable optics.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the CFP2 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_8_1_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 100gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_8_1_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 100gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_8_1_2]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    100G   100GBASE-SR1
Et5/2/1            connected    1     full    100G   100GBASE-SR1
<------OUTPUT OMITTED FROM EXAMPLE-------->

<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.8.2: Configuring a CFP2 Module as Ten 10GbE Interfaces ###
--ID: subsubsubsection_9_5_8_2
--PARENT: subsubsection_9_5_8

To configure the port as four 10GbE interfaces, use the speed command (speed forced 10000full) on the 
port’s /1 lane (the primary lane).

This configuration is available only for CFP2-100G-XSR10 optics.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.


Step 1 Enter interface Ethernet configuration mode for lane /1 of the CFP2 Ethernet interface.

[[CODE:code_subsubsubsection_9_5_8_2_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/1/1
<!-- CODE:END -->

Step 2 Enter the speed forced 10000full command. Depending on the platform, this command may 

restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_8_2_1]]

<!-- CODE:START -->
switch(config-if-Et5/1/1)#speed forced 10000full
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_8_2_2]]

<!-- CODE:START -->

switch(config-if-Et5/1/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    10G    100GBASE-SR1
Et5/1/2            connected    1     full    10G    100GBASE-SR1
Et5/1/3            connected    1     full    10G    100GBASE-SR1
Et5/1/4            connected    1     full    10G    100GBASE-SR1
Et5/1/5            connected    1     full    10G    100GBASE-SR1
Et5/1/6            connected    1     full    10G    100GBASE-SR1
Et5/1/7            connected    1     full    10G    100GBASE-SR1
Et5/1/8            connected    1     full    10G    100GBASE-SR1
Et5/1/9            connected    1     full    10G    100GBASE-SR1
Et5/1/10           connected    1     full    10G    100GBASE-SR1
<------OUTPUT OMITTED FROM EXAMPLE-------->


<!-- CODE:END -->

### SUBSUBSECTION 9.5.9: MXP Ethernet Port Configuration ###
--ID: subsubsection_9_5_9
--PARENT: subsection_9_5

Each MXP module contains twelve data lanes which can be used individually or combined to form one 
or more higher-speed interfaces. This allows an MXP Ethernet port to be configured as a single 100GbE 
interface, up to twelve 10GbE interfaces, or a mixture of 40GbE and 10GbE ports.

MXP ports do not use pluggable optics: instead, an MTP-24 ribbon is inserted directly into the port. The 
remote end of the MTP 24 ribbon must then be broken out using a splitter cable or cartridge based on 
the operational mode and speed of the MXP port.

When four lanes of an MXP interface are combined to form a 40GbE port, CLI commands will show the 
primary lane of that group as connected or not connected and the other three lanes as errdisabled.

The following sections describe the configuration of MXP interfaces.

### SUBSUBSUBSECTION 9.5.9.1: Configuring an MXP Module as a Single 100GbE Interface ###
--ID: subsubsubsection_9_5_9_1
--PARENT: subsubsection_9_5_9

To configure the port as a single 100GbE interface (the default configuration), enter the speed command 
(speed forced 100gfull) on the port’s /1 lane (the primary lane). This combines lanes 1-10 and disables 
lanes 11 and 12.

Under this configuration, CLI display commands will show lane /1 as connected or not connected, and 
show lanes /2-/12 as errdisabled.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the MXP Ethernet interface.

[[CODE:code_subsubsubsection_9_5_9_1_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/49/1
<!-- CODE:END -->

Step 2 Enter the speed forced 100gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_9_1_1]]

<!-- CODE:START -->
switch(config-if-Et5/49/1)#speed forced 100gfull
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_9_1_2]]

<!-- CODE:START -->

switch(config-if-Et5/49/1)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/49/1           connected    1     full    100G   100GBASE-SR1
Et5/49/2           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/3           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/4           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/5           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/6           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/7           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/8           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/9           errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/10          errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/11          errdisabled  1     unconf  100G   100GBASE-SR1
Et5/49/12          errdisabled  1     unconf  100G   100GBASE-SR1
<------OUTPUT OMITTED FROM EXAMPLE-------->

<!-- CODE:END -->


### SUBSUBSUBSECTION 9.5.9.2: Configuring an MXP Module With 40GbE Interfaces ###
--ID: subsubsubsection_9_5_9_2
--PARENT: subsubsection_9_5_9

Each set of four lanes on the MXP module is independently configurable as a single 40GbE interface or 
four 10GbE interfaces. To configure four lanes as a single 40GbE interface, enter the speed command 
(speed forced 40gfull) on the group’s primary lane (/1, /5, or /9). To revert a group of four lanes to 
functioning as four independent 10GbE interfaces, enter the speed forced 10000full command on the 
primary lane of the group.

When four lanes of an MXP interface are combined to form a 40GbE port, CLI commands will show the 
primary lane of that group as connected or not connected and the other three lanes as errdisabled. In 
groups of four lanes which are configured as four independent 10GbE interfaces, each lane will be 
displayed in the CLI as connected or not connected.

Note that a speed forced 100gfull command entered on the /1 lane takes precedence over speed forced 
40gfull commands on the /5 and /9 lanes.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

The example below shows the steps for configuring an MXP module as three 40GbE interfaces.

Step 1 Enter interface Ethernet configuration mode for lane /1 of the MXP Ethernet interface.

[[CODE:code_subsubsubsection_9_5_9_2_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/49/1
<!-- CODE:END -->

Step 2 Enter the speed forced 40gfull command. Depending on the platform, this command may 
restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_9_2_1]]

<!-- CODE:START -->
switch(config-if-Et5/49/1)#speed forced 40gfull
<!-- CODE:END -->

Step 3 Repeat the above steps for lanes /5 and /9.

[[CODE:code_subsubsubsection_9_5_9_2_2]]

<!-- CODE:START -->
switch(config-if-Et5/49/1)#interface ethernet 5/49/5
switch(config-if-Et5/49/5)#speed forced 40gfull
switch(config-if-Et5/49/5)#interface ethernet 5/49/9
switch(config-if-Et5/49/9)#speed forced 40gfull
<!-- CODE:END -->

Step 4 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_9_2_3]]

<!-- CODE:START -->

switch(config-if-Et5/49/9)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/49/1           connected    1     full    40G    100GBASE-SR1
Et5/49/2           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/3           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/4           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/5           connected    1     full    40G    100GBASE-SR1
Et5/49/6           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/7           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/8           errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/9           connected    1     full    40G    100GBASE-SR1
Et5/49/10          errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/11          errdisabled  1     unconf  unconf 100GBASE-SR1
Et5/49/12          errdisabled  1     unconf  unconf 100GBASE-SR1
<------OUTPUT OMITTED FROM EXAMPLE-------->

<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.9.3: Configuring an MXP Module as Twelve 10GbE Interfaces ###
--ID: subsubsubsection_9_5_9_3
--PARENT: subsubsection_9_5_9

Each lane of an MXP port functions as a 10GbE interface when it is not included in a higher-speed 
interface configuration (either actively or as an errdisabled port).

To explicitly configure the port as twelve 10GbE interfaces, use the speed command (speed forced 
10000full) on all twelve lanes of the port.

When each lane is configured as an independent 10GbE interface, CLI display commands show each 
lane as connected or not connected.

Important The  speed  command  is  hitless  on  the  7050X,  7060X,  7250X,  7260X,  7280SE,  7300X,  7320X  and  7500E
series platforms. On all other platforms, this command restarts the forwarding agent, which will result
in traffic disruption.

Step 1 Enter interface Ethernet configuration mode for all twelve lanes of the MXP Ethernet interface.

[[CODE:code_subsubsubsection_9_5_9_3_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5/49/1-12
<!-- CODE:END -->

Step 2 Enter the speed forced 10000full command. Depending on the platform, this command may 

restart the forwarding agent, disrupting traffic on all ports for 60 seconds or more.

[[CODE:code_subsubsubsection_9_5_9_3_1]]

<!-- CODE:START -->
switch(config-if-Et5/49/1-12)#speed forced 10000full
<!-- CODE:END -->

Step 3 Use the show interfaces status command to confirm the change in configuration.

[[CODE:code_subsubsubsection_9_5_9_3_2]]

<!-- CODE:START -->

switch(config-if-Et5/49/1-12)#show interfaces status
Port    Name       Status       Vlan  Duplex  Speed  Type          Flags
Et1                connected    2     full    1G     10GBASE-T
<------OUTPUT OMITTED FROM EXAMPLE-------->
Et5/1/1            connected    1     full    10G    100GBASE-SR1
Et5/1/2            connected    1     full    10G    100GBASE-SR1
Et5/1/3            connected    1     full    10G    100GBASE-SR1
Et5/1/4            connected    1     full    10G    100GBASE-SR1
Et5/1/5            connected    1     full    10G    100GBASE-SR1
Et5/1/6            connected    1     full    10G    100GBASE-SR1
Et5/1/7            connected    1     full    10G    100GBASE-SR1
Et5/1/8            connected    1     full    10G    100GBASE-SR1
Et5/1/9            connected    1     full    10G    100GBASE-SR1
Et5/1/10           connected    1     full    10G    100GBASE-SR1
<------OUTPUT OMITTED FROM EXAMPLE-------->

<!-- CODE:END -->

### SUBSUBSECTION 9.5.10: Port Speed Capabilities ###
--ID: subsubsection_9_5_10
--PARENT: subsection_9_5

The supported speeds supported on each Arista platform per interface type are described in [[TABLE:table_9_6]].
[[TABLE:table_9_6]].

<!-- TABLE:START -->
Table 9-6: Supported Speeds (GbE)
| Platform | SFP+      | QSFP+      | QSFP100          | MXP           | CFP2        |
|----------|-----------|------------|------------------|---------------|-------------|
| 7050     | 1, 10     | 1, 10, 40  | N/A              | N/A           | N/A         |
| 7050X    | 1, 10     | 1, 10, 40  | N/A              | 10, 40        | N/A         |
| 7060X    | 1, 10     | 10, 40     | 10, 25, 40, 50, 100 | N/A       | N/A         |
| 7250X    | N/A       | 1, 10, 40  | N/A              | N/A           | N/A         |
| 7260X    | 1, 10     | 10, 40     | 10, 25, 40, 50, 100 | N/A       | N/A         |
| 7150S    | 1, 10     | 1, 10, 40  | N/A              | N/A           | N/A         |
| 7048T    | 1, 10     | N/A        | N/A              | N/A           | N/A         |
| 7500     | 1, 10     | 1, 10, 40  | N/A              | N/A           | N/A         |
| 7500E    | 1, 10     | 1, 10, 40  | 10, 40, 100      | 10, 40, 100   | 10, 100     |
| 7280SE   | 1, 10     | 1, 10, 40  | 10, 40, 100      | N/A           | N/A         |
| 7210T    | 1, 10     | N/A        | N/A              | N/A           | N/A         |
<!-- TABLE:END -->

### SUBSUBSECTION 9.5.11: Agile Ports ###
--ID: subsubsection_9_5_11
--PARENT: subsection_9_5

An agile port is an interface that can function as a 10G port or can subsume a predefined set of 10G 
interfaces to form an interface with higher speed capabilities.

The set of interfaces that can be combined to form a higher speed port is restricted by the hardware 
configuration. Only interfaces that pass through a common PHY component can be combined. One 
interface within a combinable set is designated as the primary port.




To view the set of available agile ports and the subsumable interfaces that comprise them, enter 
show platform fm6000 agileport map.

To configure the primary port as a higher speed port, enter speed forced 40gfull or speed auto 
40gfull.

To revert the primary port and its subsumed ports to 10G interfaces, enter no speed.

Example

These commands displays the agile port map for the switch, then configures ethernet interface 13 
as a 40G port.

[[CODE:code_subsubsection_9_5_11_0]]

<!-- CODE:START -->
switch#show platform fm6000 agileport map

-----------------------------------------------------------------
Agile Ports       |        Interfaces subsumed in 40G link
-----------------------------------------------------------------
Ethernet1         |  Ethernet3      Ethernet5      Ethernet7
Ethernet2         |  Ethernet4      Ethernet6      Ethernet8
Ethernet13        |  Ethernet15     Ethernet17     Ethernet19
Ethernet14        |  Ethernet16     Ethernet18     Ethernet20
switch#config
switch(config)#interface ethernet 13
switch(config-if-Et13)#speed forced 40gfull

  WARNING!  Executing this command will cause the forwarding agent
            to be restarted. All interfaces will briefly drop links
            and forwarding on all interfaces will momentarily stop.

            Do you wish to proceed with this command? [y/N]

Ethernet17 configured for 40G.
Ethernet15, Ethernet17 and Ethernet19 are now subsumed.
switch(config-if-Et13)#
This command reverts the agile 40G port to a 10G port and frees its subsumed ports 
as individual 10G ports.
switch(config-if-Et13)#no speed

  WARNING!  Executing this command will cause the forwarding agent
            to be restarted. All interfaces will briefly drop links
            and forwarding on all interfaces will momentarily stop.

            Do you wish to proceed with this command? [y/N]

Ethernet13 no longer configured for 40G.
Ethernet15, Ethernet17 and Ethernet19 are now free.
switch(config-if-Et13)#

<!-- CODE:END -->

### SUBSUBSECTION 9.5.12: Subinterface Configuration ###
--ID: subsubsection_9_5_12
--PARENT: subsection_9_5

For a subinterface to be operational on an Ethernet or port channel interface, the parent interface must 
be configured as a routed port and be administratively up, and a VLAN must be configured on the 
subinterface. If the parent interface goes down, all subinterfaces automatically go down as well, but will 
come back up with the same configuration once the parent interface is up.

Note that a port channel should not contain Ethernet interfaces with subinterfaces configured on them, 
and that subinterfaces cannot be members of a port channel.

Subinterfaces are named by adding a period followed by a unique subinterface number to the name of 
the parent interface. Note that the subinterface number has no relation to the ID of the VLAN 
corresponding to the subinterface.

A maximum of 750 subinterfaces can be configured on a switch, and a maximum of 250 subinterfaces 
can be configured under a single parent interface.

Subinterfaces are available on the following platforms: 

• DCS-7050X

• DCS-7060X

• DCS-7250X

• DCS-7260X

• DCS-7280E

• DCS-7300X

• DCS-7320X

• DCS-7500E 


### SUBSUBSUBSECTION 9.5.12.1: Creating a Subinterface ###
--ID: subsubsubsection_9_5_12_1
--PARENT: subsubsection_9_5_12

To create a subinterface on an Ethernet or port channel interface:

Step 1 Bring up the parent interface and ensure that it is configured as a routed port.

[[CODE:code_subsubsubsection_9_5_12_1_0]]

<!-- CODE:START -->
switch(config)#interface Ethernet1/1
switch(config-if-Et1/1)#no switchport
switch(config-if-Et1/1)#no shutdown
<!-- CODE:END -->
Step 2 Configure a VLAN on the subinterface. The encapsulation dot1q vlan command is also used 
for VLAN translation, but in this context it associates a VLAN with the subinterface.

[[CODE:code_subsubsubsection_9_5_12_1_1]]

<!-- CODE:START -->
switch(config-if-Et1/1)#interface Ethernet1/1.1
switch(config-if-Et1/1.1)#encapsulation dot1q vlan 100
<!-- CODE:END -->
Step 3 Configure an IP address on the subinterface (optional) and ensure that it is up. 

[[CODE:code_subsubsubsection_9_5_12_1_2]]

<!-- CODE:START -->
switch(config-if-Et1/1)#ip address 10.0.0.1/24
switch(config-if-Et1/1)#no shutdown
switch(config-if-Et1/1)#
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.12.2: Creating a Range of Subinterfaces ###
--ID: subsubsubsection_9_5_12_2
--PARENT: subsubsection_9_5_12

A range of subinterfaces can also be configured simultaneously. The following example configures 
subinterfaces 1 to 100 on Ethernet interface 1/1, and assigns VLANs 501 through 600 to them. Note that 
the range of interfaces must be the same size as the range of VLAN IDs.

Example
[[CODE:code_subsubsubsection_9_5_12_2_0]]

<!-- CODE:START -->
switch(config)#interface eth1/1.1-100
switch(config-if-Et1/1.1-100)no shutdown
switch(config-if-Et1/1.1-100)encapsulation dot1q vlan {501,600}
switch(config-if-Et1/1.1-100)exit
switch(config)#
<!-- CODE:END -->

### SUBSUBSUBSECTION 9.5.12.3: Parent Interface Configuration ###
--ID: subsubsubsection_9_5_12_3
--PARENT: subsubsection_9_5_12

For subinterfaces to function, the parent interface must be administratively up and configured as a 
routed port.

Some settings are inherited by subinterfaces from the parent interface. These include QoS (trust mode 
and default DSCP) and MTU.

Additionally, on the DCS-7050X, DCS-7250X, and DCS-7300X platforms, the parent interface may be 
configured with an IP address. In this case, untagged packets are treated as incoming traffic on the 
parent interface

### SUBSUBSUBSECTION 9.5.12.4: Configuring Routing Features on a Subinterface ###
--ID: subsubsubsection_9_5_12_4
--PARENT: subsubsection_9_5_12

Once a subinterface is created, the following features can be configured on it:

• Unicast and multicast routing

• BGP, OSPF, ISIS, PIM

• VRF

• VRRP



SNMP

Inheritance of QoS (trust mode and default DSCP) and MTU settings from the parent interface

Additionally, these features can be configured on subinterfaces on Arad (DCS-7500E and DCS-7280E) 
platforms:









Subinterface counters on ingress

• VXLAN

• MPLS

• GRE


PBR

• QoS

### SUBSUBSUBSECTION 9.5.12.5: Displaying Subinterface Information ###
--ID: subsubsubsection_9_5_12_5
--PARENT: subsubsection_9_5_12

Subinterface information is displayed using the same show commands as for other interfaces.

Examples
This command displays summary information for all IP interfaces on the switch, including 
subinterfaces.

[[CODE:code_subsubsubsection_9_5_12_5_0]]

<!-- CODE:START -->
switch>show ip interfaces brief
Interface       IP Address        Status  Protocol  MTU
Ethernet1/1     10.1.1.1/24       up      up        1500
Ethernet1/1.1   10.0.0.1/24       up      up        1500
Ethernet1/2     unassigned        up      up        1500
<!-- CODE:END -->
This command displays information for subinterface Ethernet 1/1.1.

[[CODE:code_subsubsubsection_9_5_12_5_1]]

<!-- CODE:START -->
switch>show interface ethernet 1/1.1
Ethernet1/1.1 is down, line protocol is lowerlayerdown (notconnect)
Hardware is Subinterface, address is 001c.735d.65dc
Internet address is 10.0.0.1/24
Broadcast address is 255.255.255.255
Address determined by manual configuration
IP MTU 1500 bytes , BW 10000000 kbit
Down 59 seconds
switch>
<!-- CODE:END -->
This command displays status information for all subinterfaces configured on the switch.

[[CODE:code_subsubsubsection_9_5_12_5_2]]

<!-- CODE:START -->
switch>show interfaces status sub-interfaces
Port    Name    Status  Vlan  Duplex  Speed  Type                 Flags
Et1.1   connect 101     full   10G    dot1q-encapsulation
Et1.2   connect 102     full   10G    dot1q-encapsulation
Et1.3   connect 103     full   10G    dot1q-encapsulation
Et1.4   connect 103     full   10G    dot1q-encapsulation
switch>
<!-- CODE:END -->

### SUBSUBSECTION 9.5.13: Autonegotiated Settings ###
--ID: subsubsection_9_5_13
--PARENT: subsection_9_5

In autonegotiation, the transmission speed, duplex setting, and flow control parameters used for 
Ethernet-based communication can be automatically negotiated between connected devices to establish 
optimized common settings. 

### SUBSUBSUBSECTION 9.5.13.1: Speed and Duplex ###
--ID: subsubsubsection_9_5_13_1
--PARENT: subsubsection_9_5_13

The speed command affects the transmission speed and duplex setting for the configuration mode 
interface. When a speed forced command is in effect on an interface, autonegotiation of speed and 
duplex settings is disabled for the interface; to enable autonegotiation, use the speed auto command.

The scope and effect of the speed command depends on the interface type; see Ethernet Interfaces and 
Ethernet Configuration Procedures for detailed information on the speed settings for different 
interfaces.

### SUBSUBSUBSECTION 9.5.13.2: Flow Control ###
--ID: subsubsubsection_9_5_13_2
--PARENT: subsubsection_9_5_13

Flow control is a data transmission option that temporarily stops a device from sending data because of 
a peer data overflow condition. If a device sends data faster than the receiver can accept it, the receiver's 
buffer can overflow. The receiving device then sends a PAUSE frame, instructing the sending device to 
halt transmission for a specified period.

Flowcontrol commands configure administrative settings for flow control packets.


The flowcontrol receive command configures the port's ability to receive flow control pause frames.

— off: port does not process pause frames that it receives.
— on: port processes pause frames that it receives.
— desired: port autonegotiates; processes pause frames if peer is set to send or desired.


The flowcontrol send command configures the port's ability to transmit flow control pause frames.

— off: port does not send pause frames.
— on: port sends pause frames.
— desired: port autonegotiates; sends pause frames if peer is set to receive or desired.

Desired is not an available parameter option. Ethernet data ports cannot be set to desired. Management 
ports are set to desired by default and with the no flowcontrol receive command.

The port linking process includes flow control negotiation. Ports must have compatible flow control 
settings to create a link. [[TABLE:table_9_7]] lists the compatible flow control settings.
[[TABLE:table_9_7]] 


<!-- TABLE:START -->
Table 9-7: Compatible Settings for Flow Control Negotiation
| local port      | peer port                            |
|-----------------|--------------------------------------|
| receive on      | send on or send desired              |
| receive off     | send off or send desired             |
| receive desired | send on, send off, or send desired   |
| send on         | receive on or receive desired        |
| send off        | receive off or receive desired       |
| send desired    | receive on, receive off, or receive desired |
<!-- TABLE:END -->

Example

These commands set the flow control receive and send to on on Ethernet interface 5.

[[CODE:code_subsubsubsection_9_5_13_2_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#flowcontrol receive on
switch(config-if-Et5)#flowcontrol send on
switch(config-if-Et5)#
<!-- CODE:END -->

### SUBSUBSECTION 9.5.14: Displaying Ethernet Port Properties ###
--ID: subsubsection_9_5_14
--PARENT: subsection_9_5

Show commands are available to display various Ethernet configuration and operational status on each 
interface. Ethernet settings that are viewable include:

• Port Type
• PHY Status
• Negotiated Settings
• Capabilities

Port Type

The port type is viewable from the output of show interfaces status, show interfaces capabilities, and 
show interfaces transceiver properties commands.

Example

This show interfaces status command displays the status of Ethernet interfaces 1-5.

[[CODE:code_subsubsection_9_5_14_0]]

<!-- CODE:START -->
switch>show interfaces status
Port      Name              Status       Vlan        Duplex  Speed Type
Et1                         connected    1             full    10G 10GBASE-SRL
Et2                         connected    1             full    10G 10GBASE-SRL
Et3                         connected    1             full    10G 10GBASE-SRL
Et4                         connected    1             full    10G 10GBASE-SRL
Et5                         notconnect   1             full    10G Not Present
switch>
<!-- CODE:END -->

This show interfaces capabilities command displays the speed, duplex, and flow control 
capabilities of Ethernet interfaces 2 and 18.

[[CODE:code_subsubsection_9_5_14_1]]

<!-- CODE:START -->
switch>show interfaces ethernet 2,18 capabilities
Ethernet2
  Model:        DCS-7150S-64-CL
  Type:         10GBASE-CR
  Speed/Duplex: 10G/full,40G/full,auto
  Flowcontrol:  rx-(off,on,desired),tx-(off,on,desired)
Ethernet18
  Model:        DCS-7150S-64-CL
  Type:         10GBASE-SR
  Speed/Duplex: 10G/full
  Flowcontrol:  rx-(off,on),tx-(off,on)
switch>
<!-- CODE:END -->

This command displays the media type, speed, and duplex properties for Ethernet interfaces 1.

[[CODE:code_subsubsection_9_5_14_2]]

<!-- CODE:START -->
switch>show interfaces ethernet 1 transceiver properties
Name : Et1
Administrative Speed: 10G
Administrative Duplex: full
Operational Speed: 10G (forced)
Operational Duplex: full (forced)
Media Type: 10GBASE-SRL
<!-- CODE:END -->
PHY

PHY information for each Ethernet interface is viewed by entering the show interfaces phy command.

Example

This command summarizes PHY information for Ethernet interfaces 1-3.

[[CODE:code_subsubsection_9_5_14_3]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-3 phy
Key:
   U    = Link up
   D    = Link down
   R    = RX Fault
   T    = TX Fault
   B    = High BER
   L    = No Block Lock
   A    = No XAUI Lane Alignment
   0123 = No XAUI lane sync in lane N

Port       PHY state    State Changes  Reset Count  PMA/PMD  PCS   XAUI
Ethernet1  linkUp       14518          1750         U..      U.... U.......
Ethernet2  linkUp       13944          1704         U..      U.... U.......
Ethernet3  detectingXcvr  3             1           D..      A0123
switch>
<!-- CODE:END -->

Negotiated Settings

Speed, duplex, and flow control settings are displayed through the show interfaces capabilities, PHY 
information for each Ethernet interface is viewed by entering the show interfaces capabilities, show 
flowcontrol, and show interfaces status commands.

Example

This command displays speed/duplex and flow control settings for Ethernet interface 1.

[[CODE:code_subsubsection_9_5_14_4]]

<!-- CODE:START -->
switch>show interfaces ethernet 1 capabilities
Ethernet1
  Model:        DCS-7150S-64-CL
  Type:         10GBASE-SR
  Speed/Duplex: 10G/full
  Flowcontrol:  rx-(off,on),tx-(off,on)
switch>
<!-- CODE:END -->

[[CODE:code_subsubsection_9_5_14_5]]

<!-- CODE:START -->
This command shows the flow control settings for Ethernet interfaces 1-2.

switch>show flowcontrol interface ethernet 1-2
Port       Send FlowControl  Receive FlowControl  RxPause       TxPause
           admin    oper     admin    oper
---------  -------- -------- -------- --------    ------------- -------------
Et1        off      off      off      off         0             0
Et2        off      off      off      off         0             0
switch>
<!-- CODE:END -->


This command displays the speed type and duplex settings for management interfaces 1-2.

[[CODE:code_subsubsection_9_5_14_6]]

<!-- CODE:START -->
switch>show interfaces management 1-2 status
Port      Name              Status       Vlan        Duplex  Speed Type
Ma1                         connected    routed      a-full a-100M 10/100/1000
Ma2                         connected    routed      a-full   a-1G 10/100/1000
switch>

<!-- CODE:END -->

### SUBSECTION 9.6: Ethernet Configuration Commands ###
--ID: subsection_9_6
--PARENT: chapter_9

flowcontrol receive

The flowcontrol receive command configures administrative settings for inbound flow control packets. 
Ethernet ports use flow control to delay packet transmission when port buffers run out of space. Ports 
transmit a pause frame when their buffers are full, signaling their peer ports to delay sending packets 
for a specified period.

The flowcontrol receive command configures the configuration mode port's ability to receive flow 
control pause frames.


off: port does not process pause frames that it receives.
on: port processes pause frames that it receives.
desired: port autonegotiates flow control; processes pause frames if the peer is set to send desired.

Desired is not an available parameter option. Ethernet data ports cannot be set to desired. 
Management ports are set to desired by default and with the no flowcontrol receive command.

The port linking process includes flow control negotiation. Ports must have compatible flow control 
settings to create a link. [[TABLE:table_9_8]] lists the compatible flow control settings.
[[TABLE:table_9_8]] 

<!-- TABLE:START -->
Table 9-8: Compatible Settings for Flow Control Negotiation – Local Port Receiving
| local port      | peer port                            |
|-----------------|--------------------------------------|
| receive on      | send on or send desired              |
| receive off     | send off or send desired             |
| receive desired | send on, send off, or send desired   |
<!-- TABLE:END -->

The no flowcontrol receive and default flowcontrol receive commands restore the default flow control 
setting for the configuration mode interface by removing the corresponding flowcontrol receive 
command from running-config. The default setting is off for Ethernet data ports and desired for 
Management ports.

Command Mode

Interface-Ethernet Configuration
Interface-Management Configuration

Command Syntax


[[CODE:code_subsection_9_6_0]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
flowcontrol receive STATE
no flowcontrol receive
default flowcontrol receive
<!-- CODE:END -->

Parameters

STATE

— on
— off

flow control pause frame processing setting. Options include:

Examples

These commands set the flow control received on Ethernet interface 5.

[[CODE:code_subsection_9_6_1]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#flowcontrol receive on
switch(config-if-Et5)#
<!-- CODE:END -->

flowcontrol send

The flowcontrol send command configures administrative settings for outbound flow control packets. 
Ethernet ports use flow control to delay packet transmission when port buffers run out of space. Ports 
transmit a pause frame when their buffers are full, signaling their peer ports to delay sending packets 
for a specified period.

The flowcontrol send command configures the configuration mode port's ability to transmit flow 
control pause frames.


off: port does not send pause frames.
on: port sends pause frames.
desired: port autonegotiates flow control; sends pause frames if the peer is set to receive desired.

Desired is not an available parameter option. Ethernet data ports cannot be set to desired. 
Management ports are set to desired by default and with the no flowcontrol send command.

The port linking process includes flow control negotiation. Ports must have compatible flow control 
settings to create a link. [[TABLE:table_9_9]] lists the compatible flow control settings.
[[TABLE:table_9_9]]


<!-- TABLE:START -->
Table 9-9: Compatible Settings for Flow Control Negotiation – Local Port Transmitting
| local port      | peer port                            |
|-----------------|--------------------------------------|
| send on         | receive on or receive desired        |
| send off        | receive off or receive desired       |
| send desired    | receive on, receive off, or receive desired |
<!-- TABLE:END -->

The no flowcontrol send and default flowcontrol send commands restore the default flow control 
setting for the configuration mode interface by removing the corresponding flowcontrol send 
command from running-config. The default setting is off for Ethernet data ports and desired for 
Management ports.

Command Mode

Interface-Ethernet Configuration
Interface-Management Configuration

Command Syntax

[[CODE:code_subsection_9_6_2]]

<!-- CODE:START -->
flowcontrol send STATE
no flowcontrol send
default flowcontrol send
<!-- CODE:END -->
Parameters

STATE

— on
— off

flow control send setting. Options include

Examples

These commands set the flow control sent on Ethernet interface 5.

[[CODE:code_subsection_9_6_3]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#flowcontrol send on
switch(config-if-Et5)#
<!-- CODE:END -->

hardware port-group

The hardware port-group command configures a port group to activate a 40GBASE (QSFP+) interface 
or four 10GBASE (SFP+) interfaces, affecting QSFP+ and SFP+ availability.

The no hardware port-group and default hardware port-group commands restore a port group’s 
default setting by removing the corresponding hardware port-group command from running-config. 
The QSFP+ interface is active by default in each port group.

The hardware port-group command is available on on DCS-7050Q-16 and DCS-7050QX-32S switches, 
and has different parameters on each platform.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_9_6_4]]

<!-- CODE:START -->
hardware port-group group_number select PORT_LIST
no hardware port-group group_number
default hardware port-group group_number
<!-- CODE:END -->

Parameters

group_number
on the 7050QX-32S.

label of the port group. Valid options are 1 and 2 on the 7050Q-16; only 1 is available 

• PORT_LIST

ports activated by command. Options vary by platform and depend on 

group_number value.

DCS-7050Q-16

— Et15/1-4
— Et16/1-4
— Et17-20
— Et21-23

activates QSFP+ port on port group 1. Available when group_number is 1.
activates QSFP+ port on port group 2. Available when group_number is 2.
activates SFP+ ports on port group 1. Available when group_number is 1.
activates SFP+ ports on port group 2. Available when group_number is 2.

DCS-7050QX-32S

— Et1-4
— Et5/1-4

activates SFP+ ports on port group 1. Available when group_number is 1.

activates QSFP+ port on port group 1. Available when group_number is 1.








Example

These commands enable the QSFP+ interface in port group 1 and SFP+ interfaces in port group 2 
on a DCS-7050Q-16 switch, display the port group status, and display interface status.


[[CODE:code_subsection_9_6_5]]

<!-- CODE:START -->
switch(config)#hardware port-group 1 select Et15/1-4
switch(config)#hardware port-group 2 select Et21-24
switch(config)#show hardware port-group

Portgroup: 1    Active Ports: Et17-20
Port            State
------------------------------------------
Ethernet17      ErrDisabled
Ethernet18      ErrDisabled
Ethernet19      ErrDisabled
Ethernet20      ErrDisabled
Ethernet15/1    Active
Ethernet15/2    Active
Ethernet15/3    Active
Ethernet15/4    Active

Portgroup: 2    Active Ports: Et16/1-4
Port            State
------------------------------------------
Ethernet16/1    Active
Ethernet16/2    Active
Ethernet16/3    Active
Ethernet16/4    Active
Ethernet21      ErrDisabled
Ethernet22      ErrDisabled
Ethernet23      ErrDisabled
Ethernet24      ErrDisabled
switch(config)#show interfaces status
Port      Name              Status       Vlan        Duplex  Speed Type
Et1/1                       connected    in Po621      full    40G 40GBASE-CR4
Et1/2                       errdisabled  inactive    unconf unconf 40GBASE-CR4
<-------OUTPUT OMITTED FROM EXAMPLE-------->
Et15/1                      connected    in Po711      full    40G 40GBASE-CR4
Et15/2                      errdisabled  inactive    unconf unconf Not Present
Et15/3                      errdisabled  inactive    unconf unconf Not Present
Et15/4                      errdisabled  inactive    unconf unconf Not Present
Et16/1                      errdisabled  inactive    unconf unconf Not Present
Et16/2                      errdisabled  inactive    unconf unconf Not Present
Et16/3                      errdisabled  inactive    unconf unconf Not Present
Et16/4                      errdisabled  inactive    unconf unconf Not Present
Et17                        errdisabled  inactive    unconf unconf Not Present
Et18                        errdisabled  inactive    unconf unconf Not Present
Et19                        errdisabled  inactive    unconf unconf Not Present
Et20                        errdisabled  inactive    unconf unconf Not Present
Et21                        connected    425           full    10G 10GBASE-SRL
Et22                        connected    611           full    10G 10GBASE-SRL
Et23                        connected    in Po998      full    10G 10GBASE-SLR
Et24                        connected    in Po998      full    10G 10GBASE-SLR
switch(config)#
<!-- CODE:END -->

interface ethernet

The interface ethernet command places the switch in Ethernet-interface configuration mode for the 
specified interfaces. The command can specify a single interface or multiple interfaces. 

Ethernet interfaces are physical interfaces and are not created or removed.

Interface management commands include:

description
exit
load-interval

• mtu

shutdown (Interfaces)

Ethernet management commands include:

flowcontrol
• mac-address

speed

Chapters describing supported protocols and other features list additional configuration commands 
available from Ethernet interface configuration mode.

Command Mode Global Configuration

Command Syntax

interface ethernet e_range

Parameters

e_range

Ethernet interfaces (number, range, or comma-delimited list of numbers and ranges).

Valid Ethernet numbers depend on the switch’s available Ethernet interfaces.

Example

This command enters interface configuration mode for Ethernet interfaces 1 and 2:

[[CODE:code_subsection_9_6_6]]

<!-- CODE:START -->
switch(config)#interface ethernet 1-2
switch(config-if-Et1-2)#
<!-- CODE:END -->


This command enters interface configuration mode for Ethernet interface 1:

[[CODE:code_subsection_9_6_7]]

<!-- CODE:START -->
switch(config)#interface ethernet 1
switch(config-if-Et1)#
<!-- CODE:END -->

interface ethernet create

The interface ethernet create command is used to configure a range of Ethernet subinterfaces. The 
command places the switch in Ethernet-interface configuration mode for the specified range of 
subinterfaces. 

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_9_6_8]]

<!-- CODE:START -->
interface ethernet create sub_range
<!-- CODE:END -->

Parameters
sub_range
followed by a unique subinterface number to the name of the parent interface. A maximum of 750 
subinterfaces can be configured on a switch, and a maximum of 250 subinterfaces can be configured 
under a single parent interface.

range of subinterfaces to be configured. Subinterfaces are named by adding a period 

Example

This command enters interface configuration mode for Ethernet subinterfaces 1/1.1-100:

[[CODE:code_subsection_9_6_9]]

<!-- CODE:START -->
switch(config)#interface ethernet create 1/1.100
switch(config-if-Et1/1.1-100)#
<!-- CODE:END -->

interface management

The interface management command places the switch in management-interface configuration mode 
for the specified interfaces. The list can specify a single interface or multiple interfaces if the switch 
contains more than one management interface.

Management interfaces are physical interfaces and are not created or removed.

Interface management commands include:

description
exit
load-interval

• mtu

shutdown (Interfaces)

Ethernet management commands include:

flowcontrol
• mac-address

speed

Chapters describing supported protocols and other features list additional configuration commands 
available from management-interface configuration mode.

Command Mode Global Configuration

Command Syntax
[[CODE:code_subsection_9_6_10]]

<!-- CODE:START -->
interface management m_range
<!-- CODE:END -->

Parameters
• m_range Management interfaces (number, range, or comma-delimited list of numbers and ranges).

Valid management numbers depend on the switch’s available management interfaces. A value of 0, 
where available, configures the virtual management interface on a dual-supervisor modular switch. 
Management interface 0 accesses management port 1 on the active supervisor of a dual-supervisor 
modular switch.

Examples

This command enters interface configuration mode for management interfaces 1 and 2.

[[CODE:code_subsection_9_6_11]]

<!-- CODE:START -->
switch(config)#interface management 1-2
switch(config-if-Ma1-2)#
<!-- CODE:END -->


This command enters interface configuration mode for management interface 1:

[[CODE:code_subsection_9_6_12]]


<!-- CODE:START -->
switch(config)#interface management 1
switch(config-if-Ma1)#
<!-- CODE:END -->

link-debounce

The link-debounce command configures the link debounce time for the configuration mode interface. 
Link debounce time is the time that advertisements for new link states are delayed after the link state is 
established. By default, debounce time is set to zero, disabling link debounce.

Debounce times for link-up and link-down transitions can be independently configured.


Link-up debounce time: the delay before an interface advertises link down to link up transitions.
Link-down debounce time: the delay before an interface advertises link up to link down transitions.

The no link-debounce and default link-debounce commands restore the default debounce setting for 
the configuration mode interface by removing the corresponding link-debounce command from 
running-config.

Command Mode

Interface-Ethernet Configuration
Interface-Management Configuration

Command Syntax

[[CODE:code_subsection_9_6_13]]

<!-- CODE:START -->
link-debounce time WAIT_TIME
no link-debounce
default link-debounce
<!-- CODE:END -->

Parameters
• WAIT_TIME

link debounce period (milliseconds). Options include

— <0 - 30000> One debounce value assigned as both link up and link down.
— <0 - 30000> <0 - 30000> Two debounce values: link up is first, link down is second.

All debounce values range from 0 (disabled) to 30000 (30 seconds).

Examples

These commands set the link-up and link-down debounce period to 10 seconds on Ethernet 
interface 5.
[[CODE:code_subsection_9_6_14]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#link-debounce time 10000
switch(config-if-Et5)#
<!-- CODE:END -->


These commands set the link-up debounce to 10 seconds and the link-down debounce period to 
zero on Ethernet interface 5.

[[CODE:code_subsection_9_6_15]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#link-debounce time 10000 0
switch(config-if-Et5)#
<!-- CODE:END -->


These commands set the link-up debounce to zero and the link-down debounce period to 12.5 
seconds on Ethernet interface 5.

[[CODE:code_subsection_9_6_16]]

<!-- CODE:START -->
switch(config)#interface ethernet 5
switch(config-if-Et5)#link-debounce time 0 12500
switch(config-if-Et5)#
<!-- CODE:END -->

mac-address

The mac-address command assigns a MAC address to the configuration mode interface. An interface’s 
default MAC address is its burn-in address.

The no mac-address and default mac-address commands revert the interface to its default MAC 
address by removing the corresponding mac-address command from running-config.

Command Mode

Interface-Ethernet Configuration
Interface-Management Configuration

Command Syntax

[[CODE:code_subsection_9_6_17]]

<!-- CODE:START -->
mac-address address
no mac-address
default mac-address
<!-- CODE:END -->

Parameters
address
Disallowed addresses are 0.0.0 and FFFF.FFFF.FFFF.

 MAC address assigned to the interface. Format is dotted hex notation (H.H.H). 

Example

This command assigns the MAC address of 001c.2804.17e1 to Ethernet interface 7, then displays 
interface parameters, including the assigned address. 

[[CODE:code_subsection_9_6_18]]

<!-- CODE:START -->
switch(config)#interface ethernet 7
switch(config-if-Et7)#mac-address 001c.2804.17e1
switch(config-if-Et7)#show interface ethernet 7
Ethernet3 is up, line protocol is up (connected)
  Hardware is Ethernet, address is 001c.2804.17e1 (bia 001c.7312.02e2)
  Description: b.e45
  MTU 9212 bytes, BW 10000000 Kbit
  Full-duplex, 10Gb/s, auto negotiation: off
  Last clearing of "show interface" counters never
  5 seconds input rate 7.84 kbps (0.0% with framing), 10 packets/sec
  5 seconds output rate 270 kbps (0.0% with framing), 24 packets/sec
     1363799 packets input, 222736140 bytes
     Received 0 broadcasts, 290904 multicast
     0 runts, 0 giants
     0 input errors, 0 CRC, 0 alignment, 0 symbol
     0 PAUSE input
     2264927 packets output, 2348747214 bytes
     Sent 0 broadcasts, 28573 multicast
     0 output errors, 0 collisions
     0 late collision, 0 deferred
     0 PAUSE output
switch(config-if-Et7)#
<!-- CODE:END -->

show flowcontrol

The show interfaces flowcontrol command displays administrative and operational flow control data 
for the specified interfaces. Administrative data is the parameter settings stored in running-config for the 
specified interface; the switch uses these settings to negotiate flow control with the peer switch. 
Operational data is the resolved flow control setting that controls the port’s behavior.

Command Mode

EXEC

Command Syntax

show flowcontrol [INTERFACE]
show [INTERFACE] flowcontrol

Parameters

INTERFACE Interface type and number for which flow control data is displayed.

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interfaces in the specified range.

Ethernet interfaces in the specified range.

Valid e_range and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.

Example

This command shows the settings for Ethernet interfaces 1-10.

[[CODE:code_subsection_9_6_19]]

<!-- CODE:START -->
switch>show flowcontrol interface ethernet 1-10
Port       Send FlowControl  Receive FlowControl  RxPause       TxPause
           admin    oper     admin    oper
---------  -------- -------- -------- --------    ------------- -------------
Et1        off      off      off      off         0             0
Et2        off      off      off      off         0             0
Et3        off      off      off      off         0             0
Et4        off      off      off      off         0             0
Et5        off      off      off      off         0             0
Et6        off      off      off      off         0             0
Et7        off      off      off      off         0             0
Et8        off      off      off      off         0             0
Et9        off      off      off      off         0             0
Et10       off      off      off      off         0             0
switch>
<!-- CODE:END -->

show hardware port-group

The show hardware port-group command displays the status of DCS-7050Q-16 port-groups. Port 
groups contain one QSFP+ interface and a set of four SFP+ interfaces. In each port group, either the 
QSFP+ interface or the SFP+ interface set is enabled. The port groups are configured independent of 
each other.


Port group 1 contains interface 15 (QSFP+) and interfaces 17-20 (SFP+).
Port group 2 contains interface 16 (QSFP+) and interfaces 21-24 (SFP+).

Command Mode

EXEC

Command Syntax
[[CODE:code_subsection_9_6_20]]

<!-- CODE:START -->
show hardware port-group
<!-- CODE:END -->

Guidelines
The hardware port-group command is available on on DCS-7050Q-16 switches.

Example

This command displays the status of ports in the two port groups on a DCS-7050Q-16 switch.

[[CODE:code_subsection_9_6_21]]

<!-- CODE:START -->
switch>show hardware port-group

Portgroup: 1    Active Ports: Et15/1-4
Port            State
------------------------------------------
Ethernet17      ErrDisabled
Ethernet18      ErrDisabled
Ethernet19      ErrDisabled
Ethernet20      ErrDisabled
Ethernet15/1    Active
Ethernet15/2    Active
Ethernet15/3    Active
Ethernet15/4    Active

Portgroup: 2    Active Ports: Et16/1-4
Port            State
------------------------------------------
Ethernet16/1    Active
Ethernet16/2    Active
Ethernet16/3    Active
Ethernet16/4    Active
Ethernet21      ErrDisabled
Ethernet22      ErrDisabled
Ethernet23      ErrDisabled
Ethernet24      ErrDisabled
switch>
<!-- CODE:END -->

show interfaces capabilities

The show interfaces capabilities command displays the model number, interface type, duplex mode, 
and flow control settings of the specified interfaces. The capabilities command is available on Ethernet 
and management interfaces.

Command Mode EXEC

Command Syntax
[[CODE:code_subsection_9_6_22]]

<!-- CODE:START -->
show interfaces [INTERFACE] capabilities
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.

Ethernet interface range specified by e_range.

Valid e_range and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.

Examples

This command displays the model number, interface type, duplex mode and flow control settings 
for Ethernet interfaces 2 and 18.

[[CODE:code_subsection_9_6_23]]

<!-- CODE:START -->
switch>show interfaces ethernet 2,18 capabilities
Ethernet2
  Model:        DCS-7150S-64-CL
  Type:         10GBASE-CR
  Speed/Duplex: 10G/full,40G/full,auto
  Flowcontrol:  rx-(off,on,desired),tx-(off,on,desired)
Ethernet18
  Model:        DCS-7150S-64-CL
  Type:         10GBASE-SR
  Speed/Duplex: 10G/full
  Flowcontrol:  rx-(off,on),tx-(off,on)
switch>
<!-- CODE:END -->

show interfaces counters

The show interfaces counters command displays packet and byte counters for the specified interfaces. 
Counters displayed by the command include:


inbound bytes
inbound unicast packets
inbound multicast packets
inbound broadcast packets
outbound bytes
outbound unicast packets
outbound multicast packets
outbound broadcast packets

Command Mode

EXEC

Command Syntax

show interfaces [INTERFACE] counters

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Related Commands

show interfaces counters bins
show interfaces counters errors
show interfaces counters queue
show interfaces counters rates

Examples

[[CODE:code_subsection_9_6_24]]

<!-- CODE:START -->
This command displays byte and packet counters for Ethernet interfaces 1 and 2.

switch>show interfaces ethernet 1-2 counters
Port                 InOctets     InUcastPkts     InMcastPkts     InBcastPkts
Et1               99002845169        79116358           75557            2275
Et2               81289180585        76278345           86422              11

Port                OutOctets    OutUcastPkts    OutMcastPkts    OutBcastPkts
Et1                4347928323         6085482          356173            2276
Et2                4512762190         5791718          110498              15
switch>
<!-- CODE:END -->

show interfaces counters bins

The show interfaces counters bins command displays packet counters, categorized by packet length, 
for the specified interfaces. Packet length counters that the command displays include:


64 bytes
65-127 bytes
128-255 bytes
256-511 bytes
512-1023 bytes
1024-1522 bytes
larger than 1522 bytes

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_25]]

<!-- CODE:START -->
show interfaces [INTERFACE] counters bins
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Related Commands

show interfaces counters
show interfaces counters errors
show interfaces counters queue
show interfaces counters rates

Examples


[[CODE:code_subsection_9_6_26]]

<!-- CODE:START -->
This command displays packet counter results for Ethernet interfaces 1 and 2.

switch>show interfaces ethernet 1-2 counters bins
Input
Port                64 Byte      65-127 Byte     128-255 Byte     256-511 Byte
------------------------------------------------------------------------------
Et1                    2503         56681135          1045154          1029152
Et2                       8         50216275          1518179          1086297

Port          512-1023 Byte   1024-1522 Byte    1523-MAX Byte
-------------------------------------------------------------
Et1                  625825         17157823          8246822
Et2                  631173         27059077          5755101
switch>

<!-- CODE:END -->

show interfaces counters errors

The show interfaces counters errors command displays the error counters for the specified interfaces.

Command Mode

EXEC

Command Syntax
[[CODE:code_subsection_9_6_27]]

<!-- CODE:START -->
show interfaces [INTERFACE] counters errors
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Display Values
The table displays the following counters for each listed interface:

FCS: Inbound packets with CRC error and proper size.

Symbol: Inbound packets with symbol error and proper size.

• Align: Inbound packets with improper size (undersized or oversized).
• Rx: Total inbound error packets.
• Runts: Outbound packets that terminated early or dropped because of underflow.
• Giants: Outbound packets that overflowed the receiver and were dropped.

Tx: Total outbound error packets.

Related Commands

show interfaces counters
show interfaces counters bins
show interfaces counters queue
show interfaces counters rates

Examples

This command displays the error packet counters on Ethernet interfaces 1-2.

[[CODE:code_subsection_9_6_28]]

<!-- CODE:START -->

switch>show interfaces ethernet 1-2 counters errors
Port               FCS    Align   Symbol       Rx    Runts   Giants       Tx
Et1                  0        0        0        0        0        0        0
Et2                  0        0        0        0        0        0        0
switch>
<!-- CODE:END -->

show interfaces counters queue

The show interfaces counters queue command displays the queue drop counters for the specified 
interfaces.

Command Mode

EXEC

Command Syntax
[[CODE:code_subsection_9_6_29]]

<!-- CODE:START -->
show interfaces [INTERFACE] counters queue
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Related Commands

show interfaces counters
show interfaces counters bins
show interfaces counters errors
show interfaces counters rates

Example

This command displays the queue drop counters for Ethernet interfaces 1 and 2.

[[CODE:code_subsection_9_6_30]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-2 counters queue
Port                  InDrops
Et1                       180
Et2                       169
switch>
<!-- CODE:END -->

show interfaces counters rates

The show interfaces counters rates command displays the received and transmitted packet rate 
counters for the specified interfaces. Counter rates provided include megabits per second (Mbps), 
kilopackets per second (Kpps) and utilization percentage. 

All port rates are calculated approximations. Note that, when displaying rate information for a port 
channel, the rate value for the port channel will likely differ from the sum of the rates for the member 
ports. The discrepancy is likely to be larger for port channels with fewer ports, and will be most obvious 
in single-port port channels. The rate values for individual member ports are less inaccurate than the 
rate values for the port channel as a whole.

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_31]]

<!-- CODE:START -->
show interfaces [INTERFACE] counters rates
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Related Commands

show interfaces counters
show interfaces counters bins
show interfaces counters errors
show interfaces counters queue

Example

This command displays rate counters for Ethernet interfaces 1 and 2.

[[CODE:code_subsection_9_6_32]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-2 counters rates
Port        Intvl   In Mbps      %  In Kpps  Out Mbps      % Out Kpps
Et1          0:05      53.3   0.5%        5      31.2   0.3%        2
Et2          0:05      43.3   0.4%        4       0.1   0.0%        0
switch>
<!-- CODE:END -->

show interfaces negotiation

The show interfaces negotiation command displays the speed, duplex, and flow control 
auto-negotiation status for the specified interfaces.

Command Mode EXEC

Command Syntax


[[CODE:code_subsection_9_6_33]]

<!-- CODE:START -->
show interfaces [INTERFACE] negotiation [INFO_LEVEL]
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> Display information for all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.

Ethernet interface range specified by e_range.

Valid e_range and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.


INFO_LEVEL

amount of information that is displayed. Options include:

— <no parameter>  displays status and negotiated setting of local ports.
— detail

displays status and negotiated settings of local ports and their peers.

Examples

This command displays the negotiated status of management 1 and 2 interfaces

[[CODE:code_subsection_9_6_34]]

<!-- CODE:START -->
switch>show interface management 1-2 negotiation
Port       Autoneg            Negotiated Settings
           Status   Speed     Duplex    Rx Pause  Tx Pause
---------  -------  --------  --------  --------  --------
Ma1        success  100M      full      off       off
Ma2        success  auto      auto      off       off
switch>
<!-- CODE:END -->


This command displays the negotiated status of management 1 interface and its peer interface.

[[CODE:code_subsection_9_6_35]]

<!-- CODE:START -->
switch>show interface management 1 negotiation detail
Management1 :

Auto-Negotiation Mode     10/100/1000 BASE-T (IEEE Clause 28)
Auto-Negotiation Status   Success

  Advertisements       Speed           Duplex     Pause
                       --------------- ---------- --------------------
      Local            10M/100M/1G     half/full  Disabled
      Link Partner     None            None       None

  Resolution           100Mb/s         full       Rx=off,Tx=off

switch>
<!-- CODE:END -->

The show interfaces phy command displays physical layer characteristics for the specified interfaces. 

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_36]]

<!-- CODE:START -->
show interfaces [INTERFACE] phy [INFO_LEVEL]
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> All interfaces.
— ethernet e_range

Ethernet interfaces in specified range.

Valid e_range formats include number, number range, or comma-delimited list of numbers and 
ranges.


INFO_LEVEL

amount of information that is displayed. Options include:

— <no parameter>  command displays table that summarizes PHY data.
— detail

 command displays data block for each specified interface.

Examples

This command summarizes PHY information for Ethernet interfaces 1-5.

[[CODE:code_subsection_9_6_37]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-5 phy
Key:
   U    = Link up
   D    = Link down
   R    = RX Fault
   T    = TX Fault
   B    = High BER
   L    = No Block Lock
   A    = No XAUI Lane Alignment
   0123 = No XAUI lane sync in lane N

                                  State    Reset
Port           PHY state        Changes    Count PMA/PMD PCS   XAUI
-------------- --------------- -------- -------- ------- ----- --------
Ethernet1      linkUp             14518     1750 U..     U.... U.......
Ethernet2      linkUp             13944     1704 U..     U.... U.......
Ethernet3      linkUp             13994     1694 U..     U.... U.......
Ethernet4      linkUp             13721     1604 U..     U.... U.......
Ethernet5      detectingXcvr          3        1               D..A0123
switch>
<!-- CODE:END -->

This command displays detailed PHY information for Ethernet interface 1.

[[CODE:code_subsection_9_6_38]]

<!-- CODE:START -->
switch>show interfaces ethernet 1 phy detail
Current System Time: Mon Dec  5 11:32:57 2011
Ethernet1
                              Current State     Changes            Last Change
  PHY state                   linkUp              14523            0:02:01 ago
  HW resets                                        1751            0:02:07 ago
  Transceiver                 10GBASE-SRL          1704            0:02:06 ago
  Transceiver SN              C743UCZUD
  Oper speed                  10Gbps
  Interrupt Count                                 71142
  Diags mode                  normalOperation
  Model                       ael2005c
  Active uC image             microInit_mdio_SR_AEL2005C_28
  Loopback                    none
  PMA/PMD RX signal detect    ok                  11497            0:37:24 ago
  PMA/PMD RX link status      up                  11756            0:37:24 ago
  PMA/PMD RX fault            ok                  11756            0:37:24 ago
  PMA/PMD TX fault            ok                      0                  never
  PCS RX link status          up                   9859            0:02:03 ago
  PCS RX fault                ok                   9832            0:02:03 ago
  PCS TX fault                ok                    330            0:27:44 ago
  PCS block lock              ok                   9827            0:02:03 ago
  PCS high BER                ok                   8455            0:02:05 ago
  PCS err blocks              255                                  0:02:03 ago
  PCS BER                     16                  50092            0:02:05 ago
  XFI/XAUI TX link status     up                   1282            0:27:44 ago
  XFI/XAUI RX fault           ok                    585            0:27:44 ago
  XFI/XAUI TX fault           ok                   2142            0:02:05 ago
  XFI/XAUI alignment status   ok                   2929            0:02:05 ago
  XAUI lane 0-3 sync          (0123) = 1111        2932            0:02:05 ago
  XAUI sync w/o align HWM     0                                          never
  XAUI sync w/o align max OK  5
  XAUI excess sync w/o align  0                                          never
  Xcvr EEPROM read timeout                           46    4 days, 6:33:45 ago
  Spurious xcvr detection                             0                  never
  DOM control/status fail                             0
  I2C snoop reset             0
  I2C snoop reset (xcvr)      0
  Margin count                5                last > 0            0:00:00 ago
  EDC resets                  1                                    0:02:03 ago
  EDC FFE0 - FFE11            -4 -5 57 -6 -6 -2 1 0 -2 -1 1 -1
  EDC FBE1 - FBE4             6 -1 5 -1
  EDC TFBE1 - TFBE4           1 2 1 2
  EDC VGA1, VGA3              12 115
  TX path attenuation         3.0 dB
  TX preemphasis              (0,63,4) (pre,main,post)
switch>
<!-- CODE:END -->

show interfaces status

The show interfaces status command displays the interface name, link status, vlan, duplex, speed, and 
type of the specified interfaces. When the command includes a link status, the results are filtered to 
display only interfaces whose link status match the specified type.

Command Mode EXEC

Command Syntax

[[CODE:code_subsection_9_6_39]]


<!-- CODE:START -->
show interfaces [INTERFACE] status [STATUS_TYPE]
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> All existing interfaces.
— ethernet e_range
— management m_range Management interfaces in the specified range.
— port-channel p_range All existing port-channel interfaces in the specified range.

Ethernet interfaces in the specified range.

Valid e_range, m_range, and p_range formats include number, number range, or 
comma-delimited list of numbers and ranges.


STATUS_TYPE

interface status upon which the command filters output. Options include:

— <no parameter>  command does not filter on interface status.
— connected
— notconnect 
— disabled
— sub-interfaces

 interfaces that have been powered down or disabled.
 L3 subinterfaces configured on the switch.

 interfaces connected to another port.

 unconnected interfaces that are capable of connecting to another port.

Command may include multiple status types (connected notconnect disabled), which can be 
placed in any order.

Example

This command displays the status of Ethernet interfaces 1-5.
[[CODE:code_subsection_9_6_40]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-5 status
Port      Name              Status       Vlan        Duplex  Speed Type
Et1                         connected    1             full    10G 10GBASE-SRL
Et2                         connected    1             full    10G 10GBASE-SRL
Et3                         connected    1             full    10G 10GBASE-SRL
Et4                         connected    1             full    10G 10GBASE-SRL
Et5                         notconnect   1             full    10G Not Present
switch>
<!-- CODE:END -->


This command displays status information for all subinterfaces configured on the switch.


[[CODE:code_subsection_9_6_41]]

<!-- CODE:START -->
switch>show interfaces status sub-interfaces
Port    Name    Status  Vlan  Duplex  Speed  Type               Flags
Et1.1   connect 101    full   10G    dot1q-encapsulation
Et1.2   connect 102    full   10G    dot1q-encapsulation
Et1.3   connect 103    full   10G    dot1q-encapsulation
Et1.4   connect 103    full   10G    dot1q-encapsulation
switch>
<!-- CODE:END -->

show interfaces status errdisabled

The show interfaces status errdisabled command displays interfaces that are in errdisabled state, 
including their link status and errdisable cause.

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_42]]

<!-- CODE:START -->
show interfaces [INTERFACE] status errdisabled
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> Display information for all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.
— port-channel p_range
Port-Channel Interface range specified by p_range.

Ethernet interface range specified by e_range.

Valid e_range and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.

Examples

This command displays the error-disabled ports.

[[CODE:code_subsection_9_6_43]]

<!-- CODE:START -->
switch>show interfaces status errdisabled
Port    Name    Status     Reason
Et49/2          errdisabled  multi-lane-intf
Et49/3          errdisabled  multi-lane-intf
Et49/4          errdisabled  multi-lane-intf
switch>
<!-- CODE:END -->

show interfaces transceiver

The show interfaces transceiver command displays operational transceiver data for the specified 
interfaces.

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_44]]

<!-- CODE:START -->
show interfaces [INTERFACE] transceiver [DATA_FORMAT]
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.

Ethernet interface range specified by e_range.

Valid e_range, and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.

• DATA_FORMAT

 format used to display the data. Options include:

— <no parameter>  table entries separated by tabs.
— csv
 table entries separated by commas.

Related Commands

show interfaces transceiver properties

Examples

This command displays transceiver data on Ethernet interfaces 1 through 4.

[[CODE:code_subsection_9_6_45]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-4 transceiver
If device is externally calibrated, only calibrated values are printed.
N/A: not applicable, Tx: transmit, Rx: receive.
mA: milliamperes, dBm: decibels (milliwatts).
                             Bias      Optical   Optical
        Temp       Voltage   Current   Tx Power  Rx Power  Last Update
Port    (Celsius)  (Volts)   (mA)      (dBm)     (dBm)     (Date Time)
-----   ---------  --------  --------  --------  --------  -------------------
Et1      34.17      3.30      6.75     -2.41     -2.83     2011-12-02 16:18:48
Et2      35.08      3.30      6.75     -2.23     -2.06     2011-12-02 16:18:42
Et3      36.72      3.30      7.20     -2.02     -2.14     2011-12-02 16:18:49
Et4      35.91      3.30      6.92     -2.20     -2.23     2011-12-02 16:18:45
switch>
<!-- CODE:END -->

show interfaces transceiver channels

The show interfaces transceiver channels command displays current wavelength/frequency settings 
for the specified channels.

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_46]]

<!-- CODE:START -->
show interfaces [INTERFACE e_range] transceiver channels
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and port numbers.

— ethernet e_range

Ethernet interface range specified by e_range.

Related Commands

transceiver channel


show interfaces transceiver hardware

Examples

This command displays the supported wavelengths/frequencies and their corresponding channel 
numbers on Ethernet interface 4 to slot 3 through 4.



[[CODE:code_subsection_9_6_47]]

<!-- CODE:START -->
switch(config-as-if-Et4/1/3)#show interfaces ethernet 4 / 3 / 4 transceiver channels
Name: Et4/3/4
100GHz-  50GHz-
Wavelength (nm)  Frequency (GHz)  spacing Channel  spacing Channel
---------------- ---------------- ------- -------- ------- --------
1567.95          191,200                   1
1567.54          191,250                   2
1567.13          191,300          2        3
1566.72          191,350                   4
....
1529.16          196,050                   98
1528.77          196,100          50       99
1528.38          196,150                   100
switch(config-as-if-Et4/1/3)#
<!-- CODE:END -->

show interfaces transceiver hardware

The show interfaces transceiver hardware command displays current wavelength/frequency settings 
for the specified transceiver interfaces.

Command Mode

EXEC

Command Syntax

[[CODE:code_subsection_9_6_48]]

<!-- CODE:START -->
show interfaces [INTERFACE e_range] transceiver hardware
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and port numbers.

— ethernet e_range

Ethernet interface range specified by e_range.

Related Commands

transceiver channel


show interfaces transceiver channels

Examples

This command displays the current wavelength/frequency settings on Ethernet interface 4 to slot 3 
through 4.

[[CODE:code_subsection_9_6_49]]

<!-- CODE:START -->
switch(config-as-if-Et4/1/3)#show interfaces ethernet 4 / 3 / 4 transceiver 
hardware

Name: Et4/3/4
Media Type: 10GBASE-DWDM
Configured Channel : 39
Configured Grid (GHz) : 50
Computed Frequency (GHz) : 193,100
Computed Wavelength (nm) : 1552.52
Operational Channel : 39 (Default)
Operational Grid (GHz) : 50 (Default)
Operational Frequency (GHz): 193,100
Operational Wavelength (nm): 1552.52

switch(config-as-if-Et4/1/3)#
<!-- CODE:END -->

show interfaces transceiver properties

The show interfaces transceiver properties command displays configuration information for the 
specified interfaces. Information provided by the command includes the media type, interface 
speed-duplex settings, speed-duplex operating state.

Command Mode

EXEC

Command Syntax
[[CODE:code_subsection_9_6_51]]

<!-- CODE:START -->
show interfaces [INTERFACE] transceiver properties
<!-- CODE:END -->

Parameters

INTERFACE

Interface type and numbers. Options include:

— <no parameter> Display information for all interfaces.
— ethernet e_range
— management m_range Management interface range specified by m_range.

Ethernet interface range specified by e_range.

Valid e_range and m_range formats include number, number range, or comma-delimited list of 
numbers and ranges.

Related Commands

show interfaces transceiver

Examples

This command displays the media type, speed, and duplex properties for Ethernet interfaces 1-3.
[[CODE:code_subsection_9_6_52]]

<!-- CODE:START -->
switch>show interfaces ethernet 1-3 transceiver properties
Name : Et1
Administrative Speed: 10G
Administrative Duplex: full
Operational Speed: 10G (forced)
Operational Duplex: full (forced)
Media Type: 10GBASE-SRL

Name : Et2
Administrative Speed: 10G
Administrative Duplex: full
Operational Speed: 10G (forced)
Operational Duplex: full (forced)
Media Type: 10GBASE-SRL

Name : Et3
Administrative Speed: 10G
Administrative Duplex: full
Operational Speed: 10G (forced)
Operational Duplex: full (forced)
Media Type: 10GBASE-SRL

switch>
<!-- CODE:END -->


show platform fm6000 agileport map

The show platform fm6000 agileport map command displays the list of Ethernet interfaces that are 
combinable to form a higher speed port. 

Command Mode

Privileged EXEC

Command Syntax

[[CODE:code_subsection_9_6_53]]

<!-- CODE:START -->
show platform fm6000 agileport map
<!-- CODE:END -->

Example

These commands displays the agile port map for the switch, then configures Ethernet interface 13 
as a 40G port, subsuming Ethernet interfaces 15, 17 and 19.

switch#show platform fm6000 agileport map

[[CODE:code_subsection_9_6_54]]

<!-- CODE:START -->
-----------------------------------------------------------------
Agile Ports       |        Interfaces subsumed in 40G link
-----------------------------------------------------------------
Ethernet1         |  Ethernet3      Ethernet5      Ethernet7
Ethernet2         |  Ethernet4      Ethernet6      Ethernet8
Ethernet13        |  Ethernet15     Ethernet17     Ethernet19
Ethernet14        |  Ethernet16     Ethernet18     Ethernet20
switch#config
switch(config)#interface ethernet 13
switch(config-if-Et13)#speed forced 40gfull

  WARNING!  Executing this command will cause the forwarding agent
            to be restarted. All interfaces will briefly drop links
            and forwarding on all interfaces will momentarily stop.

            Do you wish to proceed with this command? [y/N]

Ethernet13 configured for 40G.
Ethernet15, Ethernet17 and Ethernet19 are now subsumed.
switch(config-if-Et13)#
<!-- CODE:END -->

speed

The speed command configures the transmission speed and duplex setting for the configuration mode 
interface. The scope and effect of this command depends on the interface type. Interface types include:



40GBASE (QSFP+): Default is 4x10G-full. Speed forced 40gfull and Speed auto 40gfull configure 
interface as a 40G port.
10GBASE-T: Default is 10G-full. Speed command affects interface.
10GBASE (SFP+): Default is 10G-full. Speed command does not affect interface.
1000BASE (copper): Default is 1G-full. speed auto 100full affects interface.
1000BASE (fiber): Default is 1G-full. Speed command does not affect interface.
10/100/1000: Default is auto-negotiation. Speed command (10/100/1000 options) affects interface.

The speed forced 40gfull and auto 40gfull commands configure a QSFP+ Ethernet interface as a 40G 
port. The no speed and no auto 40gfull commands configure a QSFP+ Ethernet interface as four 10G 
ports. These commands must be applied to the /1 port. These commands are hitless on the 7050X, 7060X, 
7250X, 7260X, 7280SE, 7300X, 7320X and 7500E series platforms. On all other platforms, these commands 
restart the forwarding agent, which will result in traffic disruption.

The no speed and default speed commands restore the default setting for the configuration mode 
interface by removing the corresponding speed command from running-config.

Command Mode

Interface-Ethernet Configuration
Interface-Management Configuration

Command Syntax

[[CODE:code_subsection_9_6_55]]

<!-- CODE:START -->
speed MODE
no speed
default speed
<!-- CODE:END -->

Parameters
• MODE 

transmission speed and duplex setting. Options include:

— auto
— auto 40gfull

auto negotiation mode.

auto negotiation mode with clause 73 auto negotiation.

Important Interfaces  using  clause  73  auto  negotiation  must  connect  to  a  device  that  runs  clause  73  auto

negotiation.

auto-negotiation mode (1000BASE-T interfaces only).

— sfp-1000baset auto
— forced 10000full
— forced 1000full
— forced 1000half
— forced 100full
— forced 100gfull
— forced 100half
— forced 10full
— forced 10half
— forced 40gfull

10G full duplex.
1G full duplex.
1G half duplex.
100M full duplex.
100G full duplex.
100M half duplex.

10M full duplex.
10M half duplex.
40G full duplex.

On 40GBASE and 100GBASE interfaces, options that change the SFP+ and MXP interfaces (the auto 
40gfull, the forced 40gfull, and the no speed options) may restart the forwarding agent on some switch 
platforms, disrupting traffic on all ports for more than a minute.

Examples

This command configures a 40GBASE interface as a 40G port.

switch(config)#interface ethernet 49/1
switch(config-if-Et49/1)#speed forced 40gfull
switch(config-if-Et49/1)#show interface ethernet 49/1 - 49/4 status
Port      Name          Status       Vlan        Duplex  Speed Type
Et49/1                  connected    in Po999      full    40G 40GBASE-CR4
Et49/2                  errdisabled  inactive    unconf unconf 40GBASE-CR4
Et49/3                  errdisabled  inactive    unconf unconf 40GBASE-CR4
Et49/4                  errdisabled  inactive    unconf unconf 40GBASE-CR4
switch(config-if-Et49/1)#


This command configures a 40GBASE interface as four 10G ports (default configuration).

switch(config-if-Et49/1)#no speed
switch(config-if-Et49/1)#show interface ethernet 49/1 - 49/4 status
Port      Name          Status       Vlan        Duplex  Speed Type
Et49/1                  connected    routed        full    10G 40GBASE-SR4
Et49/2                  connected    routed        full    10G 40GBASE-SR4
Et49/3                  connected    routed        full    10G 40GBASE-SR4
Et49/4                  notconnect   inactive      full    10G 40GBASE-SR4
switch(config-if-Et49/1)#

transceiver qsfp default-mode

The transceiver qsfp default-mode command specifies the transmission mode of all QSFP transceiver 
modules that are not explicitly configured. 

Each QSFP+ module Ethernet interface is configurable as a single 40G port or as four 10G ports. The 
switch displays four ports for each interface. Each port’s status depends on the interface configuration:


The /1 port is active (connected or not connected), regardless of the interface configuration.
The /2, /3, and /4 ports are error-disabled when the interface is configured as a single 40G port.
all ports are active (connected or not connected), when the interface is configured as four 10G ports.

The only available default-mode value is 4x10G; QSFP modules that are not configured through a speed 
command are operated as four 10G ports.

The no transceiver qsfp default-mode and default transceiver qsfp default-mode commands restore 
the default-mode transceiver setting to its default value of 4x10G.

Command Mode Global Configuration

Command Syntax

[[CODE:code_subsection_9_6_56]]


<!-- CODE:START -->
transceiver qsfp default-mode 4x10G
no transceiver qsfp default-mode
default transceiver qsfp default-mode
<!-- CODE:END -->

Guidelines
The transceiver qsfp default-mode 4x10g statement is always in running-config and cannot be modified 
or removed in the current release. 

transceiver channel

The transceiver channel command displays transceiver wavelength/frequency by channel number. The 
channel numbering depends on the selected grid-spacing mode. The default grid-spacing mode is 
50GHz-spacing.

If the startup configuration does not specify the channel number for the interface, the transceiver 
will automatically tune to the default channel (i.e. channel-39 of 50GHz-spacing grid) when it is 
inserted.
If the configured wavelength/frequency is not supported by the transceiver, the transceiver will be 
tuned to the default channel (i.e. channel-39 of 50GHz-spacing grid).

The interface is shutdown before the channel number is configured.

Command Mode Global Configuration

[[CODE:code_subsection_9_6_57]]

Command Syntax
<!-- CODE:START -->
transceiver channel CHANNEL_NUMBER grid-spacing <SPACING_GRID>
no transceiver channel CHANNEL_NUMBER [GRID_SPACING <SPACING_GRID>
default transceiver channel CHANNEL_NUMBER [GRID_SPACING <SPACING_GRID>
<!-- CODE:END -->

Parameters
• CHANNEL-NUMBER The default channel is 39 (50GHz-spacing grid) which corresponds to a 

frequency of 193,100 GHz and a wavelength of 1552.52 nm.

• GRID_SPACING  Grid-spacing mode (optional) depends on the selected grid-spacing mode. The 
default grid-spacing mode is 50GHz-spacing. For example, channel 39 of 50GHz-spacing grid is 
equivalent to channel 20 of 100GHz-spacing grid, which corresponds to a frequency of 193,100 GHz 
and a wavelength of 1552.52 nm.

— <SPACING_GRID>  default grid-spacing mode in GHz.

Related Commands

show interfaces transceiver channels


show interfaces transceiver hardware

Example

This command tunes the transceiver on slot number 4 to slot 1 through 3 of 50GHz-spacing grid.

[[CODE:code_subsection_9_6_58]]

<!-- CODE:START -->
switch(config-as)#interface ethernet 4 / 1 / 3
switch(config-if-Et4/1/3)#transceiver channel 1 grid-spacing 50
switch(config-if-Et4/1/3)#
<!-- CODE:END -->
